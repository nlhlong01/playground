!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){var r,i;!function(){var s={version:"3.5.17"},o=[].slice,a=function(t){return o.call(t)},l=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{a(l.documentElement.childNodes)[0].nodeType}catch(t){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,f=h.setAttribute,p=h.setAttributeNS,d=this.CSSStyleDeclaration.prototype,m=d.setProperty;h.setAttribute=function(t,e){f.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){m.call(this,t,e+"",n)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return null===t?NaN:+t}function v(t){return!isNaN(t)}function y(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)<0?r=s+1:i=s}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)>0?i=s:r=s+1}return r}}}s.ascending=g,s.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},s.min=function(t,e){var n,r,i=-1,s=t.length;if(1===arguments.length){for(;++i<s;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<s;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<s;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<s;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},s.max=function(t,e){var n,r,i=-1,s=t.length;if(1===arguments.length){for(;++i<s;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<s;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<s;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<s;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},s.extent=function(t,e){var n,r,i,s=-1,o=t.length;if(1===arguments.length){for(;++s<o;)if(null!=(r=t[s])&&r>=r){n=i=r;break}for(;++s<o;)null!=(r=t[s])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++s<o;)if(null!=(r=e.call(t,t[s],s))&&r>=r){n=i=r;break}for(;++s<o;)null!=(r=e.call(t,t[s],s))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},s.sum=function(t,e){var n,r=0,i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)v(n=+t[s])&&(r+=n);else for(;++s<i;)v(n=+e.call(t,t[s],s))&&(r+=n);return r},s.mean=function(t,e){var n,r=0,i=t.length,s=-1,o=i;if(1===arguments.length)for(;++s<i;)v(n=_(t[s]))?r+=n:--o;else for(;++s<i;)v(n=_(e.call(t,t[s],s)))?r+=n:--o;if(o)return r/o},s.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],s=n-r;return s?i+s*(t[r]-i):i},s.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)v(n=_(t[o]))&&r.push(n);else for(;++o<i;)v(n=_(e.call(t,t[o],o)))&&r.push(n);if(r.length)return s.quantile(r.sort(g),.5)},s.variance=function(t,e){var n,r,i=t.length,s=0,o=0,a=-1,l=0;if(1===arguments.length)for(;++a<i;)v(n=_(t[a]))&&(o+=(r=n-s)*(n-(s+=r/++l)));else for(;++a<i;)v(n=_(e.call(t,t[a],a)))&&(o+=(r=n-s)*(n-(s+=r/++l)));if(l>1)return o/(l-1)},s.deviation=function(){var t=s.variance.apply(this,arguments);return t?Math.sqrt(t):t};var E=y(g);function C(t){return t.length}s.bisectLeft=E.left,s.bisect=s.bisectRight=E.right,s.bisector=function(t){return y(1===t.length?function(e,n){return g(t(e),n)}:t)},s.shuffle=function(t,e,n){(s=arguments.length)<3&&(n=t.length,s<2&&(e=0));for(var r,i,s=n-e;s;)i=Math.random()*s--|0,r=t[s+e],t[s+e]=t[i+e],t[i+e]=r;return t},s.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},s.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},s.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=s.min(t,C),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},s.zip=function(){return s.transpose(arguments)},s.keys=function(t){var e=[];for(var n in t)e.push(n);return e},s.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},s.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},s.merge=function(t){for(var e,n,r,i=t.length,s=-1,o=0;++s<i;)o+=t[s].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n};var w=Math.abs;function b(t){for(var e=1;t*e%1;)e*=10;return e}function x(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function M(){this._=Object.create(null)}s.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],s=b(w(n)),o=-1;if(t*=s,e*=s,(n*=s)<0)for(;(r=t+n*++o)>e;)i.push(r/s);else for(;(r=t+n*++o)<e;)i.push(r/s);return i},s.map=function(t,e){var n=new M;if(t instanceof M)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,s=t.length;if(1===arguments.length)for(;++i<s;)n.set(i,t[i]);else for(;++i<s;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};function S(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function L(t){return"\0"===(t+="")[0]?t.slice(1):t}function A(t){return S(t)in this._}function I(t){return(t=S(t))in this._&&delete this._[t]}function T(){var t=[];for(var e in this._)t.push(L(e));return t}function R(){var t=0;for(var e in this._)++t;return t}function N(){for(var t in this._)return!1;return!0}function k(){this._=Object.create(null)}function D(t){return t}function P(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function O(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=F.length;n<r;++n){var i=F[n]+e;if(i in t)return i}}x(M,{has:A,get:function(t){return this._[S(t)]},set:function(t,e){return this._[S(t)]=e},remove:I,keys:T,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:L(e),value:this._[e]});return t},size:R,empty:N,forEach:function(t){for(var e in this._)t.call(this,L(e),this._[e])}}),s.nest=function(){var t,e,n={},r=[],i=[];function o(i,s,a){if(a>=r.length)return e?e.call(n,s):t?s.sort(t):s;for(var l,u,c,h,f=-1,p=s.length,d=r[a++],m=new M;++f<p;)(h=m.get(l=d(u=s[f])))?h.push(u):m.set(l,[u]);return i?(u=i(),c=function(t,e){u.set(t,o(i,e,a))}):(u={},c=function(t,e){u[t]=o(i,e,a)}),m.forEach(c),u}return n.map=function(t,e){return o(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var s=[],o=i[n++];return e.forEach((function(e,r){s.push({key:e,values:t(r,n)})})),o?s.sort((function(t,e){return o(t.key,e.key)})):s}(o(s.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},s.set=function(t){var e=new k;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},x(k,{has:A,add:function(t){return this._[S(t+="")]=!0,t},remove:I,values:T,size:R,empty:N,forEach:function(t){for(var e in this._)t.call(this,L(e))}}),s.behavior={},s.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=P(t,e,e[n]);return t};var F=["webkit","ms","moz","Moz","o","O"];function B(){}function H(){}function U(t){var e=[],n=new M;function r(){for(var n,r=e,i=-1,s=r.length;++i<s;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var s,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,s=e.indexOf(o)).concat(e.slice(s+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function q(){s.event.preventDefault()}function z(){for(var t,e=s.event;t=e.sourceEvent;)e=t;return e}function j(t){for(var e=new H,n=0,r=arguments.length;++n<r;)e[arguments[n]]=U(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=s.event;i.target=t,s.event=i,e[i.type].apply(n,r)}finally{s.event=o}}},e}s.dispatch=function(){for(var t=new H,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=U(t);return t},H.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},s.event=null,s.requote=function(t){return t.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,G={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Y(t){return G(t,J),t}var W=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},K=function(t,e){var n=t.matches||t[O(t,"matchesSelector")];return(K=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(W=function(t,e){return Sizzle(t,e)[0]||null},X=Sizzle,K=Sizzle.matchesSelector),s.selection=function(){return s.select(l.documentElement)};var J=s.selection.prototype=[];function $(t){return"function"==typeof t?t:function(){return W(t,this)}}function Z(t){return"function"==typeof t?t:function(){return X(t,this)}}J.select=function(t){var e,n,r,i,s=[];t=$(t);for(var o=-1,a=this.length;++o<a;){s.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Y(s)},J.selectAll=function(t){var e,n,r=[];t=Z(t);for(var i=-1,s=this.length;++i<s;)for(var o=this[i],l=-1,u=o.length;++l<u;)(n=o[l])&&(r.push(e=a(t.call(n,n.__data__,l,i))),e.parentNode=n);return Y(r)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=s.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+s.requote(t)+"(?:\\s+|$)","g")}function it(t){return(t+"").trim().split(/^|\s+/)}function st(t,e){var n=(t=it(t).map(ot)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ot(t){var e=rt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",nt(i+" "+t))):n.setAttribute("class",nt(i.replace(e," ")))}}function at(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ut(t){return"function"==typeof t?t:(t=s.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function ft(t){return function(){return K(this,t)}}function pt(t){return arguments.length||(t=g),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function dt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,s=t[n],o=0,a=s.length;o<a;o++)(i=s[o])&&e(i,o,n);return t}function mt(t){return G(t,gt),t}s.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},J.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=s.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},J.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=it(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},J.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(at(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(at(t,e,n))},J.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},J.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},J.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},J.append=function(t){return t=ut(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},J.insert=function(t,e){return t=ut(t),e=$(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},J.remove=function(){return this.each(ct)},J.data=function(t,e){var n,r,i=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(n=this[0]).length);++i<s;)(r=n[i])&&(t[i]=r.__data__);return t}function o(t,n){var r,i,s,o=t.length,c=n.length,h=Math.min(o,c),f=new Array(c),p=new Array(c),d=new Array(o);if(e){var m,g=new M,_=new Array(o);for(r=-1;++r<o;)(i=t[r])&&(g.has(m=e.call(i,i.__data__,r))?d[r]=i:g.set(m,i),_[r]=m);for(r=-1;++r<c;)(i=g.get(m=e.call(n,s=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=s):p[r]=ht(s),g.set(m,!0);for(r=-1;++r<o;)r in _&&!0!==g.get(_[r])&&(d[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],s=n[r],i?(i.__data__=s,f[r]=i):p[r]=ht(s);for(;r<c;++r)p[r]=ht(n[r]);for(;r<o;++r)d[r]=t[r]}p.update=f,p.parentNode=f.parentNode=d.parentNode=t.parentNode,a.push(p),l.push(f),u.push(d)}var a=mt([]),l=Y([]),u=Y([]);if("function"==typeof t)for(;++i<s;)o(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<s;)o(n=this[i],t);return l.enter=function(){return a},l.exit=function(){return u},l},J.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},J.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var s=0,o=this.length;s<o;s++){i.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var a=0,l=n.length;a<l;a++)(r=n[a])&&t.call(r,r.__data__,a,s)&&e.push(r)}return Y(i)},J.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,s=r[i];--i>=0;)(n=r[i])&&(s&&s!==n.nextSibling&&s.parentNode.insertBefore(n,s),s=n);return this},J.sort=function(t){t=pt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},J.each=function(t){return dt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},J.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},J.empty=function(){return!this.node()},J.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}return null},J.size=function(){var t=0;return dt(this,(function(){++t})),t};var gt=[];function _t(t){var e,n;return function(r,i,s){var o,a=t[s].update,l=a.length;for(s!=n&&(n=s,e=0),i>=e&&(e=i+1);!(o=a[e])&&++e<l;);return o}}function vt(t,e,n){var r="__on"+t,i=t.indexOf("."),o=Et;i>0&&(t=t.slice(0,i));var l=yt.get(t);function u(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return l&&(t=l,o=Ct),i?e?function(){var i=o(e,a(arguments));u.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:u:e?B:function(){var e,n=new RegExp("^__on([^.]+)"+s.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}s.selection.enter=mt,s.selection.enter.prototype=gt,gt.append=J.append,gt.empty=J.empty,gt.node=J.node,gt.call=J.call,gt.size=J.size,gt.select=function(t){for(var e,n,r,i,s,o=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(s=i[u])?(e.push(r[u]=n=t.call(i.parentNode,s.__data__,u,a)),n.__data__=s.__data__):e.push(null)}return Y(o)},gt.insert=function(t,e){return arguments.length<2&&(e=_t(this)),J.insert.call(this,t,e)},s.select=function(t){var e;return"string"==typeof t?(e=[W(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=u(t),Y([e])},s.selectAll=function(t){var e;return"string"==typeof t?(e=a(X(t,l))).parentNode=l.documentElement:(e=a(t)).parentNode=null,Y([e])},J.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var yt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Et(t,e){return function(n){var r=s.event;s.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{s.event=r}}}function Ct(t,e){var n=Et(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}l&&yt.forEach((function(t){"on"+t in l&&yt.remove(t)}));var wt,bt=0;function xt(t){var e=".dragsuppress-"+ ++bt,n="click"+e,r=s.select(c(t)).on("touchmove"+e,q).on("dragstart"+e,q).on("selectstart"+e,q);if(null==wt&&(wt=!("onselectstart"in t)&&O(t.style,"userSelect")),wt){var i=u(t).style,o=i[wt];i[wt]="none"}return function(t){if(r.on(e,null),wt&&(i[wt]=o),t){var s=function(){r.on(n,null)};r.on(n,(function(){q(),s()}),!0),setTimeout(s,0)}}}s.mouse=function(t){return St(t,z())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function St(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Mt<0){var i=c(t);if(i.scrollX||i.scrollY){var o=(n=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(o.f||o.e),n.remove()}}return Mt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Lt(){return s.event.changedTouches[0].identifier}s.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=z().changedTouches),e)for(var r,i=0,s=e.length;i<s;++i)if((r=e[i]).identifier===n)return St(t,r)},s.behavior.drag=function(){var t=j(i,"drag","dragstart","dragend"),e=null,n=o(B,s.mouse,c,"mousemove","mouseup"),r=o(Lt,s.touch,D,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,i,o,a){return function(){var l,u=this,c=s.event.target.correspondingElement||s.event.target,h=u.parentNode,f=t.of(u,arguments),p=0,d=n(),m=".drag"+(null==d?"":"-"+d),g=s.select(i(c)).on(o+m,y).on(a+m,E),_=xt(c),v=r(h,d);function y(){var t,e,n=r(h,d);n&&(t=n[0]-v[0],e=n[1]-v[1],p|=t|e,v=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function E(){r(h,d)&&(g.on(o+m,null).on(a+m,null),_(p),f({type:"dragend"}))}l=e?[(l=e.apply(u,arguments)).x-v[0],l.y-v[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},s.rebind(i,t,"on")},s.touches=function(t,e){return arguments.length<2&&(e=z().touches),e?a(e).map((function(e){var n=St(t,e);return n.identifier=e.identifier,n})):[]};var At=1e-6,It=1e-12,Tt=Math.PI,Rt=2*Tt,Nt=Rt-At,kt=Tt/2,Dt=Tt/180,Pt=180/Tt;function Ot(t){return t>0?1:t<0?-1:0}function Ft(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Bt(t){return t>1?0:t<-1?Tt:Math.acos(t)}function Ht(t){return t>1?kt:t<-1?-kt:Math.asin(t)}function Ut(t){return((t=Math.exp(t))+1/t)/2}function qt(t){return(t=Math.sin(t/2))*t}var zt=Math.SQRT2;s.interpolateZoom=function(t,e){var n,r,i=t[0],s=t[1],o=t[2],a=e[0],l=e[1],u=e[2],c=a-i,h=l-s,f=c*c+h*h;if(f<It)r=Math.log(u/o)/zt,n=function(t){return[i+t*c,s+t*h,o*Math.exp(zt*t*r)]};else{var p=Math.sqrt(f),d=(u*u-o*o+4*f)/(2*o*2*p),m=(u*u-o*o-4*f)/(2*u*2*p),g=Math.log(Math.sqrt(d*d+1)-d),_=Math.log(Math.sqrt(m*m+1)-m);r=(_-g)/zt,n=function(t){var e,n=t*r,a=Ut(g),l=o/(2*p)*(a*(e=zt*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+l*c,s+l*h,o*a/Ut(zt*n+g)]}}return n.duration=1e3*r,n},s.behavior.zoom=function(){var t,e,n,r,i,o,a,u,h,f={x:0,y:0,k:1},p=[960,500],d=Gt,m=250,g=0,_="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",E="touchstart.zoom",C=j(w,"zoomstart","zoom","zoomend");function w(t){t.on(_,R).on(Vt+".zoom",k).on("dblclick.zoom",D).on(E,N)}function b(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function x(t){f.k=Math.max(d[0],Math.min(d[1],t))}function M(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function S(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},x(Math.pow(2,i)),M(e=n,r),t=s.select(t),m>0&&(t=t.transition().duration(m)),t.call(w.event)}function L(){a&&a.domain(o.range().map((function(t){return(t-f.x)/f.k})).map(o.invert)),h&&h.domain(u.range().map((function(t){return(t-f.y)/f.k})).map(u.invert))}function A(t){g++||t({type:"zoomstart"})}function I(t){L(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function T(t){--g||(t({type:"zoomend"}),e=null)}function R(){var t=this,e=C.of(t,arguments),n=0,r=s.select(c(t)).on(v,a).on(y,l),i=b(s.mouse(t)),o=xt(t);function a(){n=1,M(s.mouse(t),i),I(e)}function l(){r.on(v,null).on(y,null),o(n),T(e)}Ca.call(t),A(e)}function N(){var t,e=this,n=C.of(e,arguments),r={},o=0,a=".zoom-"+s.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],h=s.select(e),p=xt(e);function d(){var n=s.touches(e);return t=f.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=b(t))})),n}function m(){var t=s.event.target;s.select(t).on(l,g).on(u,v),c.push(t);for(var n=s.event.changedTouches,a=0,h=n.length;a<h;++a)r[n[a].identifier]=null;var p=d(),m=Date.now();if(1===p.length){if(m-i<500){var _=p[0];S(e,_,r[_.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),q()}i=m}else if(p.length>1){_=p[0];var y=p[1],E=_[0]-y[0],C=_[1]-y[1];o=E*E+C*C}}function g(){var a,l,u,c,h=s.touches(e);Ca.call(e);for(var f=0,p=h.length;f<p;++f,c=null)if(u=h[f],c=r[u.identifier]){if(l)break;a=u,l=c}if(c){var d=(d=u[0]-a[0])*d+(d=u[1]-a[1])*d,m=o&&Math.sqrt(d/o);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],x(m*t)}i=null,M(a,l),I(n)}function v(){if(s.event.touches.length){for(var t=s.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var o in r)return void d()}s.selectAll(c).on(a,null),h.on(_,R).on(E,N),p(),T(n)}m(),A(n),h.on(_,null).on(E,m)}function k(){var i=C.of(this,arguments);r?clearTimeout(r):(Ca.call(this),t=b(e=n||s.mouse(this)),A(i)),r=setTimeout((function(){r=null,T(i)}),50),q(),x(Math.pow(2,.002*jt())*f.k),M(e,t),I(i)}function D(){var t=s.mouse(this),e=Math.log(f.k)/Math.LN2;S(this,t,b(t),s.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Vt||(Vt="onwheel"in l?(jt=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(jt=function(){return s.event.wheelDelta},"mousewheel"):(jt=function(){return-s.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=C.of(this,arguments),n=f;xa?s.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},A(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],o=e?e[0]:r/2,a=e?e[1]:i/2,l=s.interpolateZoom([(o-f.x)/f.k,(a-f.y)/f.k,r/f.k],[(o-n.x)/n.k,(a-n.y)/n.k,r/n.k]);return function(e){var n=l(e),i=r/n[2];this.__chart__=f={x:o-n[0]*i,y:a-n[1]*i,k:i},I(t)}})).each("interrupt.zoom",(function(){T(t)})).each("end.zoom",(function(){T(t)})):(this.__chart__=f,A(t),I(t),T(t))}))},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},L(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},x(+t),L(),w):f.k},w.scaleExtent=function(t){return arguments.length?(d=null==t?Gt:[+t[0],+t[1]],w):d},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],w):p},w.duration=function(t){return arguments.length?(m=+t,w):m},w.x=function(t){return arguments.length?(a=t,o=t.copy(),f={x:0,y:0,k:1},w):a},w.y=function(t){return arguments.length?(h=t,u=t.copy(),f={x:0,y:0,k:1},w):h},s.rebind(w,C,"on")};var jt,Vt,Gt=[0,1/0];function Yt(){}function Wt(t,e,n){return this instanceof Wt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Wt?new Wt(t.h,t.s,t.l):fe(""+t,pe,Wt):new Wt(t,e,n)}s.color=Yt,Yt.prototype.toString=function(){return this.rgb()+""},s.hsl=Wt;var Xt=Wt.prototype=new Yt;function Kt(t,e,n){var r,i;function s(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ae(s(t+120),s(t),s(t-120))}function Jt(t,e,n){return this instanceof Jt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Jt?new Jt(t.h,t.c,t.l):re(t instanceof Qt?t.l:(t=de((t=s.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Jt(t,e,n)}Xt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Wt(this.h,this.s,this.l/t)},Xt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Wt(this.h,this.s,t*this.l)},Xt.rgb=function(){return Kt(this.h,this.s,this.l)},s.hcl=Jt;var $t=Jt.prototype=new Yt;function Zt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=Dt)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Jt?Zt(t.h,t.c,t.l):de((t=ae(t)).r,t.g,t.b):new Qt(t,e,n)}$t.brighter=function(t){return new Jt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},$t.darker=function(t){return new Jt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},$t.rgb=function(){return Zt(this.h,this.c,this.l).rgb()},s.lab=Qt;var te=18,ee=Qt.prototype=new Yt;function ne(t,e,n){var r=(t+16)/116,i=r+e/500,s=r-n/200;return new ae(oe(3.2404542*(i=.95047*ie(i))-1.5371385*(r=1*ie(r))-.4985314*(s=1.08883*ie(s))),oe(-.969266*i+1.8760108*r+.041556*s),oe(.0556434*i-.2040259*r+1.0572252*s))}function re(t,e,n){return t>0?new Jt(Math.atan2(n,e)*Pt,Math.sqrt(e*e+n*n),t):new Jt(NaN,NaN,t)}function ie(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function oe(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ae(t,e,n){return this instanceof ae?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ae?new ae(t.r,t.g,t.b):fe(""+t,ae,Kt):new ae(t,e,n)}function le(t){return new ae(t>>16,t>>8&255,255&t)}function ue(t){return le(t)+""}ee.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},ee.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},ee.rgb=function(){return ne(this.l,this.a,this.b)},s.rgb=ae;var ce=ae.prototype=new Yt;function he(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function fe(t,e,n){var r,i,s,o=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ge(i[0]),ge(i[1]),ge(i[2]))}return(s=_e.get(t))?e(s.r,s.g,s.b):(null==t||"#"!==t.charAt(0)||isNaN(s=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&s)>>4,o|=o>>4,a=240&s,a|=a>>4,l=15&s,l|=l<<4):7===t.length&&(o=(16711680&s)>>16,a=(65280&s)>>8,l=255&s)),e(o,a,l))}function pe(t,e,n){var r,i,s=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),a=o-s,l=(o+s)/2;return a?(i=l<.5?a/(o+s):a/(2-o-s),r=t==o?(e-n)/a+(e<n?6:0):e==o?(n-t)/a+2:(t-e)/a+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Wt(r,i,l)}function de(t,e,n){var r=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/.95047),i=se((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ge(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ce.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ae(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ae(i,i,i)},ce.darker=function(t){return new ae((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ce.hsl=function(){return pe(this.r,this.g,this.b)},ce.toString=function(){return"#"+he(this.r)+he(this.g)+he(this.b)};var _e=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ve(t){return"function"==typeof t?t:function(){return t}}function ye(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ee(e,n,t,r)}}function Ee(t,e,n,r){var i={},o=s.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function h(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(i,u)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=h:u.onreadystatechange=function(){u.readyState>3&&h()},u.onprogress=function(t){var e=s.event;s.event=t;try{o.progress.call(i,u)}finally{s.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(a(arguments)))}})),i.send=function(n,r,s){if(2===arguments.length&&"function"==typeof r&&(s=r,r=null),u.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),u.setRequestHeader)for(var a in l)u.setRequestHeader(a,l[a]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=s&&i.on("error",s).on("load",(function(t){s(null,t)})),o.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},s.rebind(i,o,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}_e.forEach((function(t,e){_e.set(t,le(e))})),s.functor=ve,s.xhr=ye(D),s.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=Ee(t,e,null==n?s:o(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?s:o(t)):n},i}function s(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,s={},o={},a=[],l=t.length,u=0,c=0;function h(){if(u>=l)return o;if(i)return i=!1,s;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(a=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++u):10===a&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<l;){var a,c=1;if(10===(a=t.charCodeAt(u++)))i=!0;else if(13===a)i=!0,10===t.charCodeAt(u)&&(++u,++c);else if(a!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=h())!==o;){for(var f=[];n!==s&&n!==o;)f.push(n),n=h();e&&null==(f=e(f,c++))||a.push(f)}return a},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new k,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(l).join(t)].concat(e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("\t","text/tab-separated-values");var Ce,we,be,xe,Me=this[O(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Se(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,s={c:t,t:i,n:null};return we?we.n=s:Ce=s,we=s,be||(xe=clearTimeout(xe),be=1,Me(Le)),s}function Le(){var t=Ae(),e=Ie()-t;e>24?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(Le,e)),be=0):(be=1,Me(Le))}function Ae(){for(var t=Date.now(),e=Ce;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ie(){for(var t,e=Ce,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Ce=e.n;return we=t,n}function Te(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}s.timer=function(){Se.apply(this,arguments)},s.timer.flush=function(){Ae(),Ie()},s.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Re=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Ne(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,s=[],o=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>e));)a=r[o=(o+1)%r.length];return s.reverse().join(n)}:D;return function(t){var n=ke.exec(t),r=n[1]||" ",a=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],h=+n[6],f=n[7],p=n[8],d=n[9],m=1,g="",_="",v=!1,y=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":m=100,_="%",d="f";break;case"p":m=100,_="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,p=0;break;case"s":m=-1,d="r"}"$"===u&&(g=i[0],_=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=De.get(d)||Pe;var E=c&&f;return function(t){var n=_;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(m<0){var u=s.formatPrefix(t,p);t=u.scale(t),n=u.symbol+_}else t*=m;var C,w,b=(t=d(t,p)).lastIndexOf(".");if(b<0){var x=y?t.lastIndexOf("e"):-1;x<0?(C=t,w=""):(C=t.substring(0,x),w=t.substring(x))}else C=t.substring(0,b),w=e+t.substring(b+1);!c&&f&&(C=o(C,1/0));var M=g.length+C.length+w.length+(E?0:i.length),S=M<h?new Array(M=h-M+1).join(r):"";return E&&(C=o(S+C,S.length?h-w.length:1/0)),i+=g,t=C+w,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,M>>=1)+i+t+S.substring(M):i+(E?t:S+t))+n}}}s.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=s.round(t,Te(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Re[8+n/3]};var ke=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,De=s.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=s.round(t,Te(t,e))).toFixed(Math.max(0,Math.min(20,Te(t*(1+1e-15),e))))}});function Pe(t){return t+""}var Oe=s.time={},Fe=Date;function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){He.setUTCDate.apply(this._,arguments)},setDay:function(){He.setUTCDay.apply(this._,arguments)},setFullYear:function(){He.setUTCFullYear.apply(this._,arguments)},setHours:function(){He.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){He.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){He.setUTCMinutes.apply(this._,arguments)},setMonth:function(){He.setUTCMonth.apply(this._,arguments)},setSeconds:function(){He.setUTCSeconds.apply(this._,arguments)},setTime:function(){He.setTime.apply(this._,arguments)}};var He=Date.prototype;function Ue(t,e,n){function r(e){var n=t(e),r=s(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Fe(n-1)),1),n}function s(t,n){return e(t=new Fe(+t),n),t}function o(t,r,s){var o=i(t),a=[];if(s>1)for(;o<r;)n(o)%s||a.push(new Date(+o)),e(o,1);else for(;o<r;)a.push(new Date(+o)),e(o,1);return a}t.floor=t,t.round=r,t.ceil=i,t.offset=s,t.range=o;var a=t.utc=qe(t);return a.floor=a,a.round=qe(r),a.ceil=qe(i),a.offset=qe(s),a.range=function(t,e,n){try{Fe=Be;var r=new Be;return r._=t,o(r,e,n)}finally{Fe=Date}},t}function qe(t){return function(e,n){try{Fe=Be;var r=new Be;return r._=e,t(r,n)._}finally{Fe=Date}}}function ze(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,s,o=[],a=-1,l=0;++a<e;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(i=je[r=t.charAt(++a)])&&(r=t.charAt(++a)),(s=C[r])&&(r=s(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=a+1);return o.push(t.slice(l,a)),o.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Fe!==Be,i=new(r?Be:Fe);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function h(t,e,n,r){for(var i,s,o,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(o=e.charAt(a++),!(s=w[o in je?e.charAt(a++):o])||(r=s(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Fe=Be);return n._=t,e(n)}finally{Fe=Date}}return n.parse=function(t){try{Fe=Be;var n=e.parse(t);return n&&n._}finally{Fe=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=hn;var f=s.map(),p=We(o),d=Xe(o),m=We(a),g=Xe(a),_=We(l),v=Xe(l),y=We(u),E=Xe(u);i.forEach((function(t,e){f.set(t.toLowerCase(),e)}));var C={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return Ye(t.getDate(),e,2)},e:function(t,e){return Ye(t.getDate(),e,2)},H:function(t,e){return Ye(t.getHours(),e,2)},I:function(t,e){return Ye(t.getHours()%12||12,e,2)},j:function(t,e){return Ye(1+Oe.dayOfYear(t),e,3)},L:function(t,e){return Ye(t.getMilliseconds(),e,3)},m:function(t,e){return Ye(t.getMonth()+1,e,2)},M:function(t,e){return Ye(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ye(t.getSeconds(),e,2)},U:function(t,e){return Ye(Oe.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ye(Oe.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return Ye(t.getFullYear()%100,e,2)},Y:function(t,e){return Ye(t.getFullYear()%1e4,e,4)},Z:un,"%":function(){return"%"}},w={a:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){y.lastIndex=0;var r=y.exec(e.slice(n));return r?(t.m=E.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return h(t,C.c.toString(),e,n)},d:nn,e:nn,H:sn,I:sn,j:rn,L:ln,m:en,M:on,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:an,U:Je,w:Ke,W:$e,x:function(t,e,n){return h(t,C.x.toString(),e,n)},X:function(t,e,n){return h(t,C.X.toString(),e,n)},y:Qe,Y:Ze,Z:tn,"%":cn};return c}Oe.year=Ue((function(t){return(t=Oe.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),Oe.years=Oe.year.range,Oe.years.utc=Oe.year.utc.range,Oe.day=Ue((function(t){var e=new Fe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),Oe.days=Oe.day.range,Oe.days.utc=Oe.day.utc.range,Oe.dayOfYear=function(t){var e=Oe.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=Oe[t]=Ue((function(t){return(t=Oe.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=Oe.year(t).getDay();return Math.floor((Oe.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));Oe[t+"s"]=n.range,Oe[t+"s"].utc=n.utc.range,Oe[t+"OfYear"]=function(t){var n=Oe.year(t).getDay();return Math.floor((Oe.dayOfYear(t)+(n+e)%7)/7)}})),Oe.week=Oe.sunday,Oe.weeks=Oe.sunday.range,Oe.weeks.utc=Oe.sunday.utc.range,Oe.weekOfYear=Oe.sundayOfYear;var je={"-":"",_:" ",0:"0"},Ve=/^\s*\d+/,Ge=/^%/;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function We(t){return new RegExp("^(?:"+t.map(s.requote).join("|")+")","i")}function Xe(t){for(var e=new M,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ke(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Je(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function $e(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ze(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ve.lastIndex=0;var r,i=Ve.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function sn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function on(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function an(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ln(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function un(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+Ye(r,"0",2)+Ye(i,"0",2)}function cn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}s.locale=function(t){return{numberFormat:Ne(t),timeFormat:ze(t)}};var fn=s.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pn(){}s.format=fn.numberFormat,s.geo={},pn.prototype={s:0,t:0,add:function(t){mn(t,this.t,dn),mn(dn.s,this.s,this),this.s?this.t+=dn.t:this.s=dn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dn=new pn;function mn(t,e,n){var r=n.s=t+e,i=r-t,s=r-i;n.t=t-s+(e-i)}function gn(t,e){t&&vn.hasOwnProperty(t.type)&&vn[t.type](t,e)}s.geo.stream=function(t,e){t&&_n.hasOwnProperty(t.type)?_n[t.type](t,e):gn(t,e)};var _n={Feature:function(t,e){gn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)gn(n[r].geometry,e)}},vn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){yn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yn(n[r],e,0)},Polygon:function(t,e){En(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)En(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)gn(n[r],e)}};function yn(t,e,n){var r,i=-1,s=t.length-n;for(e.lineStart();++i<s;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function En(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)yn(t[n],e,1);e.polygonEnd()}s.geo.area=function(t){return Cn=0,s.geo.stream(t,Dn),Cn};var Cn,wn,bn,xn,Mn,Sn,Ln,An,In,Tn,Rn,Nn,kn=new pn,Dn={sphere:function(){Cn+=4*Tt},point:B,lineStart:B,lineEnd:B,polygonStart:function(){kn.reset(),Dn.lineStart=Pn},polygonEnd:function(){var t=2*kn;Cn+=t<0?4*Tt+t:t,Dn.lineStart=Dn.lineEnd=Dn.point=B}};function Pn(){var t,e,n,r,i;function s(t,e){e=e*Dt/2+Tt/4;var s=(t*=Dt)-n,o=s>=0?1:-1,a=o*s,l=Math.cos(e),u=Math.sin(e),c=i*u,h=r*l+c*Math.cos(a),f=c*o*Math.sin(a);kn.add(Math.atan2(f,h)),n=t,r=l,i=u}Dn.point=function(o,a){Dn.point=s,n=(t=o)*Dt,r=Math.cos(a=(e=a)*Dt/2+Tt/4),i=Math.sin(a)},Dn.lineEnd=function(){s(t,e)}}function On(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Un(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function zn(t){return[Math.atan2(t[1],t[0]),Ht(t[2])]}function jn(t,e){return w(t[0]-e[0])<At&&w(t[1]-e[1])<At}s.geo.bounds=function(){var t,e,n,r,i,o,a,l,u,c,h,f={point:p,lineStart:m,lineEnd:g,polygonStart:function(){f.point=_,f.lineStart=v,f.lineEnd=y,u=0,Dn.polygonStart()},polygonEnd:function(){Dn.polygonEnd(),f.point=p,f.lineStart=m,f.lineEnd=g,kn<0?(t=-(n=180),e=-(r=90)):u>At?r=90:u<-At&&(e=-90),h[0]=t,h[1]=n}};function p(i,s){c.push(h=[t=i,n=i]),s<e&&(e=s),s>r&&(r=s)}function d(s,o){var a=On([s*Dt,o*Dt]);if(l){var u=Bn(l,a),c=Bn([u[1],-u[0],0],u);qn(c),c=zn(c);var h=s-i,f=h>0?1:-1,d=c[0]*Pt*f,m=w(h)>180;if(m^(f*i<d&&d<f*s))(g=c[1]*Pt)>r&&(r=g);else if(m^(f*i<(d=(d+360)%360-180)&&d<f*s)){var g;(g=-c[1]*Pt)<e&&(e=g)}else o<e&&(e=o),o>r&&(r=o);m?s<i?E(t,s)>E(t,n)&&(n=s):E(s,n)>E(t,n)&&(t=s):n>=t?(s<t&&(t=s),s>n&&(n=s)):s>i?E(t,s)>E(t,n)&&(n=s):E(s,n)>E(t,n)&&(t=s)}else p(s,o);l=a,i=s}function m(){f.point=d}function g(){h[0]=t,h[1]=n,f.point=p,l=null}function _(t,e){if(l){var n=t-i;u+=w(n)>180?n+(n>0?360:-360):n}else o=t,a=e;Dn.point(t,e),d(t,e)}function v(){Dn.lineStart()}function y(){_(o,a),Dn.lineEnd(),w(u)>At&&(t=-(n=180)),h[0]=t,h[1]=n,l=null}function E(t,e){return(e-=t)<0?e+360:e}function C(t,e){return t[0]-e[0]}function b(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],s.geo.stream(i,f),u=c.length){c.sort(C);for(var o=1,a=[m=c[0]];o<u;++o)b((p=c[o])[0],m)||b(p[1],m)?(E(m[0],p[1])>E(m[0],m[1])&&(m[1]=p[1]),E(p[0],m[1])>E(m[0],m[1])&&(m[0]=p[0])):a.push(m=p);for(var l,u,p,d=-1/0,m=(o=0,a[u=a.length-1]);o<=u;m=p,++o)p=a[o],(l=E(m[1],p[0]))>d&&(d=l,t=p[0],n=m[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),s.geo.centroid=function(t){wn=bn=xn=Mn=Sn=Ln=An=In=Tn=Rn=Nn=0,s.geo.stream(t,Vn);var e=Tn,n=Rn,r=Nn,i=e*e+n*n+r*r;return i<It&&(e=Ln,n=An,r=In,bn<At&&(e=xn,n=Mn,r=Sn),(i=e*e+n*n+r*r)<It)?[NaN,NaN]:[Math.atan2(n,e)*Pt,Ht(r/Math.sqrt(i))*Pt]};var Vn={sphere:B,point:Gn,lineStart:Wn,lineEnd:Xn,polygonStart:function(){Vn.lineStart=Kn},polygonEnd:function(){Vn.lineStart=Wn}};function Gn(t,e){t*=Dt;var n=Math.cos(e*=Dt);Yn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Yn(t,e,n){++wn,xn+=(t-xn)/wn,Mn+=(e-Mn)/wn,Sn+=(n-Sn)/wn}function Wn(){var t,e,n;function r(r,i){r*=Dt;var s=Math.cos(i*=Dt),o=s*Math.cos(r),a=s*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=e*l-n*a)*u+(u=n*o-t*l)*u+(u=t*a-e*o)*u),t*o+e*a+n*l);bn+=u,Ln+=u*(t+(t=o)),An+=u*(e+(e=a)),In+=u*(n+(n=l)),Yn(t,e,n)}Vn.point=function(i,s){i*=Dt;var o=Math.cos(s*=Dt);t=o*Math.cos(i),e=o*Math.sin(i),n=Math.sin(s),Vn.point=r,Yn(t,e,n)}}function Xn(){Vn.point=Gn}function Kn(){var t,e,n,r,i;function s(t,e){t*=Dt;var s=Math.cos(e*=Dt),o=s*Math.cos(t),a=s*Math.sin(t),l=Math.sin(e),u=r*l-i*a,c=i*o-n*l,h=n*a-r*o,f=Math.sqrt(u*u+c*c+h*h),p=n*o+r*a+i*l,d=f&&-Bt(p)/f,m=Math.atan2(f,p);Tn+=d*u,Rn+=d*c,Nn+=d*h,bn+=m,Ln+=m*(n+(n=o)),An+=m*(r+(r=a)),In+=m*(i+(i=l)),Yn(n,r,i)}Vn.point=function(o,a){t=o,e=a,Vn.point=s,o*=Dt;var l=Math.cos(a*=Dt);n=l*Math.cos(o),r=l*Math.sin(o),i=Math.sin(a),Yn(n,r,i)},Vn.lineEnd=function(){s(t,e),Vn.lineEnd=Xn,Vn.point=Gn}}function Jn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function $n(){return!0}function Zn(t,e,n,r,i){var s=[],o=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(jn(n,r)){i.lineStart();for(var a=0;a<e;++a)i.point((n=t[a])[0],n[1]);i.lineEnd()}else{var l=new tr(n,t,null,!0),u=new tr(n,null,l,!1);l.o=u,s.push(l),o.push(u),l=new tr(r,t,null,!1),u=new tr(r,null,l,!0),l.o=u,s.push(l),o.push(u)}}})),o.sort(e),Qn(s),Qn(o),s.length){for(var a=0,l=n,u=o.length;a<u;++a)o[a].e=l=!l;for(var c,h,f=s[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(a=0,u=c.length;a<u;++a)i.point((h=c[a])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(a=(c=p.p.z).length-1;a>=0;--a)i.point((h=c[a])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function tr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(t,e,n,r){return function(i,o){var a,l=e(o),u=i.invert(r[0],r[1]),c={point:h,lineStart:p,lineEnd:d,polygonStart:function(){c.point=E,c.lineStart=C,c.lineEnd=w,a=[],m=[]},polygonEnd:function(){c.point=h,c.lineStart=p,c.lineEnd=d,a=s.merge(a);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;kn.reset();for(var a=0,l=e.length;a<l;++a){var u=e[a],c=u.length;if(c)for(var h=u[0],f=h[0],p=h[1]/2+Tt/4,d=Math.sin(p),m=Math.cos(p),g=1;;){g===c&&(g=0);var _=(t=u[g])[0],v=t[1]/2+Tt/4,y=Math.sin(v),E=Math.cos(v),C=_-f,w=C>=0?1:-1,b=w*C,x=b>Tt,M=d*y;if(kn.add(Math.atan2(M*w*Math.sin(b),m*E+M*Math.cos(b))),s+=x?C+w*Rt:C,x^f>=n^_>=n){var S=Bn(On(h),On(t));qn(S);var L=Bn(i,S);qn(L);var A=(x^C>=0?-1:1)*Ht(L[2]);(r>A||r===A&&(S[0]||S[1]))&&(o+=x^C>=0?1:-1)}if(!g++)break;f=_,d=y,m=E,h=t}}return(s<-At||s<At&&kn<-At)^1&o}(u,m);a.length?(y||(o.polygonStart(),y=!0),Zn(a,ir,t,n,o)):t&&(y||(o.polygonStart(),y=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),y&&(o.polygonEnd(),y=!1),a=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function f(t,e){var n=i(t,e);l.point(n[0],n[1])}function p(){c.point=f,l.lineStart()}function d(){c.point=h,l.lineEnd()}var m,g,_=rr(),v=e(_),y=!1;function E(t,e){g.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function C(){v.lineStart(),g=[]}function w(){E(g[0][0],g[0][1]),v.lineEnd();var t,e=v.clean(),n=_.buffer(),r=n.length;if(g.pop(),m.push(g),g=null,r)if(1&e){var i,s=-1;if((r=(t=n[0]).length-1)>0){for(y||(o.polygonStart(),y=!0),o.lineStart();++s<r;)o.point((i=t[s])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(nr))}return c}}function nr(t){return t.length>1}function rr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:B,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ir(t,e){return((t=t.x)[0]<0?t[1]-kt-At:kt-t[1])-((e=e.x)[0]<0?e[1]-kt-At:kt-e[1])}var sr=er($n,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?Tt:-Tt,l=w(s-n);w(l-Tt)<At?(t.point(n,r=(r+o)/2>0?kt:-kt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(s,r),e=0):i!==a&&l>=Tt&&(w(n-i)<At&&(n-=i*At),w(s-a)<At&&(s-=a*At),r=function(t,e,n,r){var i,s,o=Math.sin(t-n);return w(o)>At?Math.atan((Math.sin(e)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*s*o)):(e+r)/2}(n,r,s,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=s,r=o),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*kt,r.point(-Tt,i),r.point(0,i),r.point(Tt,i),r.point(Tt,0),r.point(Tt,-i),r.point(0,-i),r.point(-Tt,-i),r.point(-Tt,0),r.point(-Tt,i);else if(w(t[0]-e[0])>At){var s=t[0]<e[0]?Tt:-Tt;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}),[-Tt,-Tt/2]);function or(t){var e=Math.cos(t),n=e>0,r=w(e)>At;return er(i,(function(t){var e,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var p,d=[h,f],m=i(h,f),g=n?m?0:o(h,f):m?o(h+(h<0?Tt:-Tt),f):0;if(!e&&(u=l=m)&&t.lineStart(),m!==l&&(p=s(e,d),(jn(e,p)||jn(d,p))&&(d[0]+=At,d[1]+=At,m=i(d[0],d[1]))),m!==l)c=0,m?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^m){var _;g&a||!(_=s(d,e,!0))||(c=0,n?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!m||e&&jn(e,d)||t.point(d[0],d[1]),e=d,l=m,a=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),zr(t,6*Dt),n?[0,-t]:[-Tt,t-Tt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function s(t,n,r){var i=[1,0,0],s=Bn(On(t),On(n)),o=Fn(s,s),a=s[0],l=o-a*a;if(!l)return!r&&t;var u=e*o/l,c=-e*a/l,h=Bn(i,s),f=Un(i,u);Hn(f,Un(s,c));var p=h,d=Fn(f,p),m=Fn(p,p),g=d*d-m*(Fn(f,f)-1);if(!(g<0)){var _=Math.sqrt(g),v=Un(p,(-d-_)/m);if(Hn(v,f),v=zn(v),!r)return v;var y,E=t[0],C=n[0],b=t[1],x=n[1];C<E&&(y=E,E=C,C=y);var M=C-E,S=w(M-Tt)<At;if(!S&&x<b&&(y=b,b=x,x=y),S||M<At?S?b+x>0^v[1]<(w(v[0]-E)<At?b:x):b<=v[1]&&v[1]<=x:M>Tt^(E<=v[0]&&v[0]<=C)){var L=Un(p,(-d+_)/m);return Hn(L,f),[v,zn(L)]}}}function o(e,r){var i=n?t:Tt-t,s=0;return e<-i?s|=1:e>i&&(s|=2),r<-i?s|=4:r>i&&(s|=8),s}}function ar(t,e,n,r){return function(i){var s,o=i.a,a=i.b,l=o.x,u=o.y,c=0,h=1,f=a.x-l,p=a.y-u;if(s=t-l,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>c&&(c=s)}if(s=n-l,f||!(s<0)){if(s/=f,f<0){if(s>h)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<h&&(h=s)}if(s=e-u,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>c&&(c=s)}if(s=r-u,p||!(s<0)){if(s/=p,p<0){if(s>h)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<h&&(h=s)}return c>0&&(i.a={x:l+c*f,y:u+c*p}),h<1&&(i.b={x:l+h*f,y:u+h*p}),i}}}}}}function lr(t,e,n,r){return function(l){var u,c,h,f,p,d,m,g,_,v,y,E=l,C=rr(),w=ar(t,e,n,r),b={point:S,lineStart:function(){b.point=L,c&&c.push(h=[]);v=!0,_=!1,m=g=NaN},lineEnd:function(){u&&(L(f,p),d&&_&&C.rejoin(),u.push(C.buffer()));b.point=S,_&&l.lineEnd()},polygonStart:function(){l=C,u=[],c=[],y=!0},polygonEnd:function(){l=E,u=s.merge(u);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var s,o=1,a=c[i],l=a.length,u=a[0];o<l;++o)s=a[o],u[1]<=r?s[1]>r&&Ft(u,s,t)>0&&++e:s[1]<=r&&Ft(u,s,t)<0&&--e,u=s;return 0!==e}([t,r]),n=y&&e,i=u.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),x(null,null,1,l),l.lineEnd()),i&&Zn(u,o,e,x,l),l.polygonEnd()),u=c=h=null}};function x(s,o,l,u){var c=0,h=0;if(null==s||(c=i(s,l))!==(h=i(o,l))||a(s,o)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==h);else u.point(o[0],o[1])}function M(i,s){return t<=i&&i<=n&&e<=s&&s<=r}function S(t,e){M(t,e)&&l.point(t,e)}function L(t,e){var n=M(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(c&&h.push([t,e]),v)f=t,p=e,d=n,v=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&_)l.point(t,e);else{var r={a:{x:m,y:g},b:{x:t,y:e}};w(r)?(_||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),y=!1):n&&(l.lineStart(),l.point(t,e),y=!1)}m=t,g=e,_=n}return b};function i(r,i){return w(r[0]-t)<At?i>0?0:3:w(r[0]-n)<At?i>0?2:1:w(r[1]-e)<At?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ur(t){var e=0,n=Tt/3,r=Dr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Tt/180,n=t[1]*Tt/180):[e/Tt*180,n/Tt*180]},i}function cr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;function o(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}return o.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,Ht((i-(t*t+n*n)*r*r)/(2*r))]},o}s.geo.clipExtent=function(){var t,e,n,r,i,s,o={stream:function(t){return i&&(i.valid=!1),(i=s(t)).valid=!0,i},extent:function(a){return arguments.length?(s=lr(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(s.geo.conicEqualArea=function(){return ur(cr)}).raw=cr,s.geo.albers=function(){return s.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},s.geo.albersUsa=function(){var t,e,n,r,i=s.geo.albers(),o=s.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=s.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(i){var s=i[0],o=i[1];return t=null,e(s,o),t||(n(s,o),t)||r(s,o),t}return u.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,s=(t[1]-n[1])/e;return(s>=.12&&s<.234&&r>=-.425&&r<-.214?o:s>=.166&&s<.234&&r>=-.214&&r<-.115?a:i).invert(t)},u.stream=function(t){var e=i.stream(t),n=o.stream(t),r=a.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),u):i.precision()},u.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),u.translate(i.translate())):i.scale()},u.translate=function(t){if(!arguments.length)return i.translate();var s=i.scale(),c=+t[0],h=+t[1];return e=i.translate(t).clipExtent([[c-.455*s,h-.238*s],[c+.455*s,h+.238*s]]).stream(l).point,n=o.translate([c-.307*s,h+.201*s]).clipExtent([[c-.425*s+At,h+.12*s+At],[c-.214*s-At,h+.234*s-At]]).stream(l).point,r=a.translate([c-.205*s,h+.212*s]).clipExtent([[c-.214*s+At,h+.166*s+At],[c-.115*s-At,h+.234*s-At]]).stream(l).point,u},u.scale(1070)};var hr,fr,pr,dr,mr,gr,_r={point:B,lineStart:B,lineEnd:B,polygonStart:function(){fr=0,_r.lineStart=vr},polygonEnd:function(){_r.lineStart=_r.lineEnd=_r.point=B,hr+=w(fr/2)}};function vr(){var t,e,n,r;function i(t,e){fr+=r*t-n*e,n=t,r=e}_r.point=function(s,o){_r.point=i,t=n=s,e=r=o},_r.lineEnd=function(){i(t,e)}}var yr={point:function(t,e){t<pr&&(pr=t);t>mr&&(mr=t);e<dr&&(dr=e);e>gr&&(gr=e)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B};function Er(){var t=Cr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=Cr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=s}function s(t,n){e.push("L",t,",",n)}function o(){n.point=r}function a(){e.push("Z")}return n}function Cr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var wr,br={point:xr,lineStart:Mr,lineEnd:Sr,polygonStart:function(){br.lineStart=Lr},polygonEnd:function(){br.point=xr,br.lineStart=Mr,br.lineEnd=Sr}};function xr(t,e){xn+=t,Mn+=e,++Sn}function Mr(){var t,e;function n(n,r){var i=n-t,s=r-e,o=Math.sqrt(i*i+s*s);Ln+=o*(t+n)/2,An+=o*(e+r)/2,In+=o,xr(t=n,e=r)}br.point=function(r,i){br.point=n,xr(t=r,e=i)}}function Sr(){br.point=xr}function Lr(){var t,e,n,r;function i(t,e){var i=t-n,s=e-r,o=Math.sqrt(i*i+s*s);Ln+=o*(n+t)/2,An+=o*(r+e)/2,In+=o,Tn+=(o=r*t-n*e)*(n+t),Rn+=o*(r+e),Nn+=3*o,xr(n=t,r=e)}br.point=function(s,o){br.point=i,xr(t=n=s,e=r=o)},br.lineEnd=function(){i(t,e)}}function Ar(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=t,n},result:B};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Rt)}function i(e,r){t.moveTo(e,r),n.point=s}function s(e,n){t.lineTo(e,n)}function o(){n.point=r}function a(){t.closePath()}return n}function Ir(t){var e=.5,n=Math.cos(30*Dt),r=16;function i(t){return(r?o:s)(t)}function s(e){return Nr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function o(e){var n,i,s,o,l,u,c,h,f,p,d,m,g={point:_,lineStart:v,lineEnd:E,polygonStart:function(){e.polygonStart(),g.lineStart=C},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function _(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){h=NaN,g.point=y,e.lineStart()}function y(n,i){var s=On([n,i]),o=t(n,i);a(h,f,c,p,d,m,h=o[0],f=o[1],c=n,p=s[0],d=s[1],m=s[2],r,e),e.point(h,f)}function E(){g.point=_,e.lineEnd()}function C(){v(),g.point=w,g.lineEnd=b}function w(t,e){y(n=t,e),i=h,s=f,o=p,l=d,u=m,g.point=y}function b(){a(h,f,c,p,d,m,i,s,n,o,l,u,r,e),g.lineEnd=E,E()}return g}function a(r,i,s,o,l,u,c,h,f,p,d,m,g,_){var v=c-r,y=h-i,E=v*v+y*y;if(E>4*e&&g--){var C=o+p,b=l+d,x=u+m,M=Math.sqrt(C*C+b*b+x*x),S=Math.asin(x/=M),L=w(w(x)-1)<At||w(s-f)<At?(s+f)/2:Math.atan2(b,C),A=t(L,S),I=A[0],T=A[1],R=I-r,N=T-i,k=y*R-v*N;(k*k/E>e||w((v*R+y*N)/E-.5)>.3||o*p+l*d+u*m<n)&&(a(r,i,s,o,l,u,I,T,L,C/=M,b/=M,x,g,_),_.point(I,T),a(I,T,L,C,b,x,c,h,f,p,d,m,g,_))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Tr(t){var e=Ir((function(e,n){return t([e*Pt,n*Pt])}));return function(t){return Pr(e(t))}}function Rr(t){this.stream=t}function Nr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function kr(t){return Dr((function(){return t}))()}function Dr(t){var e,n,r,i,o,a,l=Ir((function(t,n){return[(t=e(t,n))[0]*u+i,o-t[1]*u]})),u=150,c=480,h=250,f=0,p=0,d=0,m=0,g=0,_=sr,v=D,y=null,E=null;function C(t){return[(t=r(t[0]*Dt,t[1]*Dt))[0]*u+i,o-t[1]*u]}function w(t){return(t=r.invert((t[0]-i)/u,(o-t[1])/u))&&[t[0]*Pt,t[1]*Pt]}function b(){r=Jn(n=Br(d,m,g),e);var t=e(f,p);return i=c-t[0]*u,o=h+t[1]*u,x()}function x(){return a&&(a.valid=!1,a=null),C}return C.stream=function(t){return a&&(a.valid=!1),(a=Pr(_(n,l(v(t))))).valid=!0,a},C.clipAngle=function(t){return arguments.length?(_=null==t?(y=t,sr):or((y=+t)*Dt),x()):y},C.clipExtent=function(t){return arguments.length?(E=t,v=t?lr(t[0][0],t[0][1],t[1][0],t[1][1]):D,x()):E},C.scale=function(t){return arguments.length?(u=+t,b()):u},C.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],b()):[c,h]},C.center=function(t){return arguments.length?(f=t[0]%360*Dt,p=t[1]%360*Dt,b()):[f*Pt,p*Pt]},C.rotate=function(t){return arguments.length?(d=t[0]%360*Dt,m=t[1]%360*Dt,g=t.length>2?t[2]%360*Dt:0,b()):[d*Pt,m*Pt,g*Pt]},s.rebind(C,l,"precision"),function(){return e=t.apply(this,arguments),C.invert=e.invert&&w,b()}}function Pr(t){return Nr(t,(function(e,n){t.point(e*Dt,n*Dt)}))}function Or(t,e){return[t,e]}function Fr(t,e){return[t>Tt?t-Rt:t<-Tt?t+Rt:t,e]}function Br(t,e,n){return t?e||n?Jn(Ur(t),qr(e,n)):Ur(t):e||n?qr(e,n):Fr}function Hr(t){return function(e,n){return[(e+=t)>Tt?e-Rt:e<-Tt?e+Rt:e,n]}}function Ur(t){var e=Hr(t);return e.invert=Hr(-t),e}function qr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),s=Math.sin(e);function o(t,e){var o=Math.cos(e),a=Math.cos(t)*o,l=Math.sin(t)*o,u=Math.sin(e),c=u*n+a*r;return[Math.atan2(l*i-c*s,a*n-u*r),Ht(c*i+l*s)]}return o.invert=function(t,e){var o=Math.cos(e),a=Math.cos(t)*o,l=Math.sin(t)*o,u=Math.sin(e),c=u*i-l*s;return[Math.atan2(l*i+u*s,a*n+c*r),Ht(c*n-a*r)]},o}function zr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,s,o,a){var l=o*e;null!=i?(i=jr(n,i),s=jr(n,s),(o>0?i<s:i>s)&&(i+=o*Rt)):(i=t+o*Rt,s=t-.5*l);for(var u,c=i;o>0?c>s:c<s;c-=l)a.point((u=zn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function jr(t,e){var n=On(e);n[0]-=t,qn(n);var r=Bt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-At)%(2*Math.PI)}function Vr(t,e,n){var r=s.range(t,e-At,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Gr(t,e,n){var r=s.range(t,e-At,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Yr(t){return t.source}function Wr(t){return t.target}s.geo.path=function(){var t,e,n,r,i,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),s.geo.stream(t,i)),r.result()}function l(){return i=null,a}return a.area=function(t){return hr=0,s.geo.stream(t,n(_r)),hr},a.centroid=function(t){return xn=Mn=Sn=Ln=An=In=Tn=Rn=Nn=0,s.geo.stream(t,n(br)),Nn?[Tn/Nn,Rn/Nn]:In?[Ln/In,An/In]:Sn?[xn/Sn,Mn/Sn]:[NaN,NaN]},a.bounds=function(t){return mr=gr=-(pr=dr=1/0),s.geo.stream(t,n(yr)),[[pr,dr],[mr,gr]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Tr(e):D,l()):t},a.context=function(t){return arguments.length?(r=null==(e=t)?new Er:new Ar(t),"function"!=typeof o&&r.pointRadius(o),l()):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.projection(s.geo.albersUsa()).context(null)},s.geo.transform=function(t){return{stream:function(e){var n=new Rr(e);for(var r in t)n[r]=t[r];return n}}},Rr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},s.geo.projection=kr,s.geo.projectionMutator=Dr,(s.geo.equirectangular=function(){return kr(Or)}).raw=Or.invert=Or,s.geo.rotation=function(t){function e(e){return(e=t(e[0]*Dt,e[1]*Dt))[0]*=Pt,e[1]*=Pt,e}return t=Br(t[0]%360*Dt,t[1]*Dt,t.length>2?t[2]*Dt:0),e.invert=function(e){return(e=t.invert(e[0]*Dt,e[1]*Dt))[0]*=Pt,e[1]*=Pt,e},e},Fr.invert=Or,s.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Br(-t[0]*Dt,-t[1]*Dt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Pt,t[1]*=Pt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=zr((t=+n)*Dt,r*Dt),i):t},i.precision=function(n){return arguments.length?(e=zr(t*Dt,(r=+n)*Dt),i):r},i.angle(90)},s.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Dt,i=t[1]*Dt,s=e[1]*Dt,o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(s),h=Math.cos(s);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*a)*n),l*c+u*h*a)},s.geo.graticule=function(){var t,e,n,r,i,o,a,l,u,c,h,f,p=10,d=p,m=90,g=360,_=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return s.range(Math.ceil(r/m)*m,n,m).map(h).concat(s.range(Math.ceil(l/g)*g,a,g).map(f)).concat(s.range(Math.ceil(e/p)*p,t,p).filter((function(t){return w(t%m)>At})).map(u)).concat(s.range(Math.ceil(o/d)*d,i,d).filter((function(t){return w(t%g)>At})).map(c))}return v.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(a).slice(1),h(n).reverse().slice(1),f(l).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.majorExtent(t).minorExtent(t):v.minorExtent()},v.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),v.precision(_)):[[r,l],[n,a]]},v.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),v.precision(_)):[[e,o],[t,i]]},v.step=function(t){return arguments.length?v.majorStep(t).minorStep(t):v.minorStep()},v.majorStep=function(t){return arguments.length?(m=+t[0],g=+t[1],v):[m,g]},v.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],v):[p,d]},v.precision=function(s){return arguments.length?(_=+s,u=Vr(o,i,90),c=Gr(e,t,_),h=Vr(l,a,90),f=Gr(r,n,_),v):_},v.majorExtent([[-180,-90+At],[180,90-At]]).minorExtent([[-180,-80-At],[180,80+At]])},s.geo.greatArc=function(){var t,e,n=Yr,r=Wr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return s.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},s.geo.interpolate=function(t,e){return n=t[0]*Dt,r=t[1]*Dt,i=e[0]*Dt,s=e[1]*Dt,o=Math.cos(r),a=Math.sin(r),l=Math.cos(s),u=Math.sin(s),c=o*Math.cos(n),h=o*Math.sin(n),f=l*Math.cos(i),p=l*Math.sin(i),d=2*Math.asin(Math.sqrt(qt(s-r)+o*l*qt(i-n))),m=1/Math.sin(d),(g=d?function(t){var e=Math.sin(t*=d)*m,n=Math.sin(d-t)*m,r=n*c+e*f,i=n*h+e*p,s=n*a+e*u;return[Math.atan2(i,r)*Pt,Math.atan2(s,Math.sqrt(r*r+i*i))*Pt]}:function(){return[n*Pt,r*Pt]}).distance=d,g;var n,r,i,s,o,a,l,u,c,h,f,p,d,m,g},s.geo.length=function(t){return wr=0,s.geo.stream(t,Xr),wr};var Xr={sphere:B,point:B,lineStart:function(){var t,e,n;function r(r,i){var s=Math.sin(i*=Dt),o=Math.cos(i),a=w((r*=Dt)-t),l=Math.cos(a);wr+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=n*s-e*o*l)*a),e*s+n*o*l),t=r,e=s,n=o}Xr.point=function(i,s){t=i*Dt,e=Math.sin(s*=Dt),n=Math.cos(s),Xr.point=r},Xr.lineEnd=function(){Xr.point=Xr.lineEnd=B}},lineEnd:B,polygonStart:B,polygonEnd:B};function Kr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),s=t(r*i);return[s*i*Math.sin(e),s*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*s,r*o),Math.asin(r&&n*s/r)]},n}var Jr=Kr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(s.geo.azimuthalEqualArea=function(){return kr(Jr)}).raw=Jr;var $r=Kr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),D);function Zr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Tt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),s=n*Math.pow(r(t),i)/i;if(!i)return ei;function o(t,e){s>0?e<-kt+At&&(e=-kt+At):e>kt-At&&(e=kt-At);var n=s/Math.pow(r(e),i);return[n*Math.sin(i*t),s-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=s-e,r=Ot(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(s/r,1/i))-kt]},o}function Qr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<At)return Or;function s(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return s.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Ot(r)*Math.sqrt(t*t+n*n)]},s}(s.geo.azimuthalEquidistant=function(){return kr($r)}).raw=$r,(s.geo.conicConformal=function(){return ur(Zr)}).raw=Zr,(s.geo.conicEquidistant=function(){return ur(Qr)}).raw=Qr;var ti=Kr((function(t){return 1/t}),Math.atan);function ei(t,e){return[t,Math.log(Math.tan(Tt/4+e/2))]}function ni(t){var e,n=kr(t),r=n.scale,i=n.translate,s=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=s.apply(n,arguments);if(o===n){if(e=null==t){var a=Tt*r(),l=i();s([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(o=null);return o},n.clipExtent(null)}(s.geo.gnomonic=function(){return kr(ti)}).raw=ti,ei.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-kt]},(s.geo.mercator=function(){return ni(ei)}).raw=ei;var ri=Kr((function(){return 1}),Math.asin);(s.geo.orthographic=function(){return kr(ri)}).raw=ri;var ii=Kr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function si(t,e){return[Math.log(Math.tan(Tt/4+e/2)),-t]}function oi(t){return t[0]}function ai(t){return t[1]}function li(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Ft(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ui(t,e){return t[0]-e[0]||t[1]-e[1]}(s.geo.stereographic=function(){return kr(ii)}).raw=ii,si.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-kt]},(s.geo.transverseMercator=function(){var t=ni(si),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=si,s.geom={},s.geom.hull=function(t){var e=oi,n=ai;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ve(e),s=ve(n),o=t.length,a=[],l=[];for(r=0;r<o;r++)a.push([+i.call(this,t[r],r),+s.call(this,t[r],r),r]);for(a.sort(ui),r=0;r<o;r++)l.push([a[r][0],-a[r][1]]);var u=li(a),c=li(l),h=c[0]===u[0],f=c[c.length-1]===u[u.length-1],p=[];for(r=u.length-1;r>=0;--r)p.push(t[a[u[r]][2]]);for(r=+h;r<c.length-f;++r)p.push(t[a[c[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},s.geom.polygon=function(t){return G(t,ci),t};var ci=s.geom.polygon.prototype=[];function hi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function fi(t,e,n,r){var i=t[0],s=n[0],o=e[0]-i,a=r[0]-s,l=t[1],u=n[1],c=e[1]-l,h=r[1]-u,f=(a*(l-u)-h*(i-s))/(h*o-a*c);return[i+f*o,l+f*c]}function pi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ci.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ci.centroid=function(t){var e,n,r=-1,i=this.length,s=0,o=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=a,a=this[r],n=e[0]*a[1]-a[0]*e[1],s+=(e[0]+a[0])*n,o+=(e[1]+a[1])*n;return[s*t,o*t]},ci.clip=function(t){for(var e,n,r,i,s,o,a=pi(t),l=-1,u=this.length-pi(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],s=e[(r=e.length-a)-1],n=-1;++n<r;)hi(o=e[n],c,i)?(hi(s,c,i)||t.push(fi(s,o,c,i)),t.push(o)):hi(s,c,i)&&t.push(fi(s,o,c,i)),s=o;a&&t.push(t[0]),c=i}return t};var di,mi,gi,_i,vi,yi=[],Ei=[];function Ci(){Ui(this),this.edge=this.site=this.circle=null}function wi(t){var e=yi.pop()||new Ci;return e.site=t,e}function bi(t){Ni(t),gi.remove(t),yi.push(t),Ui(t)}function xi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},s=t.P,o=t.N,a=[t];bi(t);for(var l=s;l.circle&&w(n-l.circle.x)<At&&w(r-l.circle.cy)<At;)s=l.P,a.unshift(l),bi(l),l=s;a.unshift(l),Ni(l);for(var u=o;u.circle&&w(n-u.circle.x)<At&&w(r-u.circle.cy)<At;)o=u.N,a.push(u),bi(u),u=o;a.push(u),Ni(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Fi(u.edge,l.site,u.site,i);l=a[0],(u=a[h-1]).edge=Pi(l.site,u.site,null,i),Ri(l),Ri(u)}function Mi(t){for(var e,n,r,i,s=t.x,o=t.y,a=gi._;a;)if((r=Si(a,o)-s)>At)a=a.L;else{if(!((i=s-Li(a,o))>At)){r>-At?(e=a.P,n=a):i>-At?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=wi(t);if(gi.insert(e,l),e||n){if(e===n)return Ni(e),n=wi(e.site),gi.insert(l,n),l.edge=n.edge=Pi(e.site,l.site),Ri(e),void Ri(n);if(n){Ni(e),Ni(n);var u=e.site,c=u.x,h=u.y,f=t.x-c,p=t.y-h,d=n.site,m=d.x-c,g=d.y-h,_=2*(f*g-p*m),v=f*f+p*p,y=m*m+g*g,E={x:(g*v-p*y)/_+c,y:(f*y-m*v)/_+h};Fi(n.edge,u,d,E),l.edge=Pi(u,t,null,E),n.edge=Pi(t,d,null,E),Ri(e),Ri(n)}else l.edge=Pi(e.site,l.site)}}function Si(t,e){var n=t.site,r=n.x,i=n.y,s=i-e;if(!s)return r;var o=t.P;if(!o)return-1/0;var a=(n=o.site).x,l=n.y,u=l-e;if(!u)return a;var c=a-r,h=1/s-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+i-s/2)))/h+r:(r+a)/2}function Li(t,e){var n=t.N;if(n)return Si(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ai(t){this.site=t,this.edges=[]}function Ii(t,e){return e.angle-t.angle}function Ti(){Ui(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ri(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var o=i.x,a=i.y,l=r.x-o,u=r.y-a,c=s.x-o,h=2*(l*(g=s.y-a)-u*c);if(!(h>=-It)){var f=l*l+u*u,p=c*c+g*g,d=(g*f-u*p)/h,m=(l*p-c*f)/h,g=m+a,_=Ei.pop()||new Ti;_.arc=t,_.site=i,_.x=d+o,_.y=g+Math.sqrt(d*d+m*m),_.cy=g,t.circle=_;for(var v=null,y=vi._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}vi.insert(v,_),v||(_i=_)}}}}function Ni(t){var e=t.circle;e&&(e.P||(_i=e.N),vi.remove(e),Ei.push(e),Ui(e),t.circle=null)}function ki(t,e){var n=t.b;if(n)return!0;var r,i,s=t.a,o=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,f=c.x,p=c.y,d=h.x,m=h.y,g=(f+d)/2,_=(p+m)/2;if(m===p){if(g<o||g>=a)return;if(f>d){if(s){if(s.y>=u)return}else s={x:g,y:l};n={x:g,y:u}}else{if(s){if(s.y<l)return}else s={x:g,y:u};n={x:g,y:l}}}else if(i=_-(r=(f-d)/(m-p))*g,r<-1||r>1)if(f>d){if(s){if(s.y>=u)return}else s={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(s){if(s.y<l)return}else s={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(p<m){if(s){if(s.x>=a)return}else s={x:o,y:r*o+i};n={x:a,y:r*a+i}}else{if(s){if(s.x<o)return}else s={x:a,y:r*a+i};n={x:o,y:r*o+i}}return t.a=s,t.b=n,!0}function Di(t,e){this.l=t,this.r=e,this.a=this.b=null}function Pi(t,e,n,r){var i=new Di(t,e);return di.push(i),n&&Fi(i,t,e,n),r&&Fi(i,e,t,r),mi[t.i].edges.push(new Bi(i,t,e)),mi[e.i].edges.push(new Bi(i,e,t)),i}function Oi(t,e,n){var r=new Di(t,null);return r.a=e,r.b=n,di.push(r),r}function Fi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Bi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Hi(){this._=null}function Ui(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function zi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ji(t){for(;t.L;)t=t.L;return t}function Vi(t,e){var n,r,i,s=t.sort(Gi).pop();for(di=[],mi=new Array(t.length),gi=new Hi,vi=new Hi;;)if(i=_i,s&&(!i||s.y<i.y||s.y===i.y&&s.x<i.x))s.x===n&&s.y===r||(mi[s.i]=new Ai(s),Mi(s),n=s.x,r=s.y),s=t.pop();else{if(!i)break;xi(i.arc)}e&&(function(t){for(var e,n=di,r=ar(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!ki(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<At&&w(e.a.y-e.b.y)<At)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,s,o,a,l,u,c,h=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],m=mi,g=m.length;g--;)if((s=m[g])&&s.prepare())for(l=(a=s.edges).length,o=0;o<l;)r=(c=a[o].end()).x,i=c.y,e=(u=a[++o%l].start()).x,n=u.y,(w(r-e)>At||w(i-n)>At)&&(a.splice(o,0,new Bi(Oi(s.site,c,w(r-h)<At&&d-i>At?{x:h,y:w(e-h)<At?n:d}:w(i-d)<At&&f-r>At?{x:w(n-d)<At?e:f,y:d}:w(r-f)<At&&i-p>At?{x:f,y:w(e-f)<At?n:p}:w(i-p)<At&&r-h>At?{x:w(n-p)<At?e:h,y:p}:null),s.site,null)),++l)}(e));var o={cells:mi,edges:di};return gi=vi=di=mi=null,o}function Gi(t,e){return e.y-t.y||e.x-t.x}Ai.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ii),e.length},Bi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Hi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ji(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(qi(this,n),n=(t=n).U),n.C=!1,r.C=!0,zi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(zi(this,n),n=(t=n).U),n.C=!1,r.C=!0,qi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,o=t.R;if(n=s?o?ji(o):s:o,i?i.L===t?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,qi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,qi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,zi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,zi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},s.geom.voronoi=function(t){var e=oi,n=ai,r=e,i=n,s=Yi;if(t)return o(t);function o(t){var e=new Array(t.length),n=s[0][0],r=s[0][1],i=s[1][0],o=s[1][1];return Vi(a(t),s).cells.forEach((function(s,a){var l=s.edges,u=s.site;(e[a]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=t[a]})),e}function a(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/At)*At,y:Math.round(i(t,e)/At)*At,i:e}}))}return o.links=function(t){return Vi(a(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return Vi(a(t)).cells.forEach((function(n,r){for(var i,s,o,a,l=n.site,u=n.edges.sort(Ii),c=-1,h=u.length,f=u[h-1].edge,p=f.l===l?f.r:f.l;++c<h;)f,i=p,p=(f=u[c].edge).l===l?f.r:f.l,r<i.i&&r<p.i&&(o=i,a=p,((s=l).x-a.x)*(o.y-s.y)-(s.x-o.x)*(a.y-s.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},o.x=function(t){return arguments.length?(r=ve(e=t),o):e},o.y=function(t){return arguments.length?(i=ve(n=t),o):n},o.clipExtent=function(t){return arguments.length?(s=null==t?Yi:t,o):s===Yi?null:s},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):s===Yi?null:s&&s[1]},o};var Yi=[[-1e6,-1e6],[1e6,1e6]];function Wi(t){return t.x}function Xi(t){return t.y}function Ki(t,e,n,r,i,s){if(!t(e,n,r,i,s)){var o=.5*(n+i),a=.5*(r+s),l=e.nodes;l[0]&&Ki(t,l[0],n,r,o,a),l[1]&&Ki(t,l[1],o,r,i,a),l[2]&&Ki(t,l[2],n,a,o,s),l[3]&&Ki(t,l[3],o,a,i,s)}}function Ji(t,e,n,r,i,s,o){var a,l=1/0;return function t(u,c,h,f,p){if(!(c>s||h>o||f<r||p<i)){if(d=u.point){var d,m=e-u.x,g=n-u.y,_=m*m+g*g;if(_<l){var v=Math.sqrt(l=_);r=e-v,i=n-v,s=e+v,o=n+v,a=d}}for(var y=u.nodes,E=.5*(c+f),C=.5*(h+p),w=(n>=C)<<1|e>=E,b=w+4;w<b;++w)if(u=y[3&w])switch(3&w){case 0:t(u,c,h,E,C);break;case 1:t(u,E,h,f,C);break;case 2:t(u,c,C,E,p);break;case 3:t(u,E,C,f,p)}}}(t,r,i,s,o),a}function $i(t,e){t=s.rgb(t),e=s.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,l=e.b-i;return function(t){return"#"+he(Math.round(n+o*t))+he(Math.round(r+a*t))+he(Math.round(i+l*t))}}function Zi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=rs(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ts(t,e){var n,r,i,s=es.lastIndex=ns.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=es.exec(t))&&(r=ns.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Qi(n,r)})),s=ns.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}s.geom.delaunay=function(t){return s.geom.voronoi().triangles(t)},s.geom.quadtree=function(t,e,n,r,i){var s,o=oi,a=ai;if(s=arguments.length)return o=Wi,a=Xi,3===s&&(i=n,r=e,n=e=0),l(t);function l(t){var l,u,c,h,f,p,d,m,g,_=ve(o),v=ve(a);if(null!=e)p=e,d=n,m=r,g=i;else if(m=g=-(p=d=1/0),u=[],c=[],f=t.length,s)for(h=0;h<f;++h)(l=t[h]).x<p&&(p=l.x),l.y<d&&(d=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(h=0;h<f;++h){var y=+_(l=t[h],h),E=+v(l,h);y<p&&(p=y),E<d&&(d=E),y>m&&(m=y),E>g&&(g=E),u.push(y),c.push(E)}var C=m-p,b=g-d;function x(t,e,n,r,i,s,o,a){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(w(l-n)+w(u-r)<.01)M(t,e,n,r,i,s,o,a);else{var c=t.point;t.x=t.y=t.point=null,M(t,c,l,u,i,s,o,a),M(t,e,n,r,i,s,o,a)}else t.x=n,t.y=r,t.point=e}else M(t,e,n,r,i,s,o,a)}function M(t,e,n,r,i,s,o,a){var l=.5*(i+o),u=.5*(s+a),c=n>=l,h=r>=u,f=h<<1|c;t.leaf=!1,c?i=l:o=l,h?s=u:a=u,x(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,s,o,a)}C>b?g=d+C:m=p+b;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){x(S,t,+_(t,++h),+v(t,h),p,d,m,g)},visit:function(t){Ki(t,S,p,d,m,g)},find:function(t){return Ji(S,t[0],t[1],p,d,m,g)}};if(h=-1,null==e){for(;++h<f;)x(S,t[h],u[h],c[h],p,d,m,g);--h}else t.forEach(S.add);return u=c=t=l=null,S}return l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(a=t,l):a},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},s.interpolateRgb=$i,s.interpolateObject=Zi,s.interpolateNumber=Qi,s.interpolateString=ts;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ns=new RegExp(es.source,"g");function rs(t,e){for(var n,r=s.interpolators.length;--r>=0&&!(n=s.interpolators[r](t,e)););return n}function is(t,e){var n,r=[],i=[],s=t.length,o=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)r.push(rs(t[n],e[n]));for(;n<s;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<a;++n)i[n]=r[n](t);return i}}s.interpolate=rs,s.interpolators=[function(t,e){var n=typeof e;return("string"===n?_e.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?$i:ts:e instanceof Yt?$i:Array.isArray(e)?is:"object"===n&&isNaN(e)?Zi:Qi)(t,e)}],s.interpolateArray=is;var ss=function(){return D},os=s.map({linear:ss,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return hs},cubic:function(){return fs},sin:function(){return ds},exp:function(){return ms},circle:function(){return gs},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Rt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Rt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return _s}}),as=s.map({in:D,out:us,"in-out":cs,"out-in":function(t){return cs(us(t))}});function ls(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function us(t){return function(e){return 1-t(1-e)}}function cs(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function hs(t){return t*t}function fs(t){return t*t*t}function ps(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ds(t){return 1-Math.cos(t*kt)}function ms(t){return Math.pow(2,10*(t-1))}function gs(t){return 1-Math.sqrt(1-t*t)}function _s(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function vs(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ys(t){var e,n,r,i=[t.a,t.b],s=[t.c,t.d],o=Cs(i),a=Es(i,s),l=Cs(((e=s)[0]+=(r=-a)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*s[1]<s[0]*i[1]&&(i[0]*=-1,i[1]*=-1,o*=-1,a*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-s[0],s[1]))*Pt,this.translate=[t.e,t.f],this.scale=[o,l],this.skew=l?Math.atan2(a,l)*Pt:0}function Es(t,e){return t[0]*e[0]+t[1]*e[1]}function Cs(t){var e=Math.sqrt(Es(t,t));return e&&(t[0]/=e,t[1]/=e),e}s.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=os.get(n)||ss,ls((r=as.get(r)||D)(n.apply(null,o.call(arguments,1))))},s.interpolateHcl=function(t,e){t=s.hcl(t),e=s.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,l=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Zt(n+o*t,r+a*t,i+l*t)+""}},s.interpolateHsl=function(t,e){t=s.hsl(t),e=s.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,l=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Kt(n+o*t,r+a*t,i+l*t)+""}},s.interpolateLab=function(t,e){t=s.lab(t),e=s.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,l=e.b-i;return function(t){return ne(n+o*t,r+a*t,i+l*t)+""}},s.interpolateRound=vs,s.transform=function(t){var e=l.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ys(n?n.matrix:ws)})(t)},ys.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ws={a:1,b:0,c:0,d:1,e:0,f:0};function bs(t){return t.length?t.pop()+",":""}function xs(t,e){var n=[],r=[];return t=s.transform(t),e=s.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Qi(t[0],e[0])},{i:i-2,x:Qi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(bs(n)+"rotate(",null,")")-2,x:Qi(t,e)})):e&&n.push(bs(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(bs(n)+"skewX(",null,")")-2,x:Qi(t,e)}):e&&n.push(bs(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(bs(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Qi(t[0],e[0])},{i:i-2,x:Qi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(bs(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,s=r.length;++i<s;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Ms(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ss(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ls(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=As(t),r=As(e),i=n.pop(),s=r.pop(),o=null;for(;i===s;)o=i,i=n.pop(),s=r.pop();return o}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var s=i.length;n!==r;)i.splice(s,0,n),n=n.parent;return i}function As(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Is(t){t.fixed|=2}function Ts(t){t.fixed&=-7}function Rs(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ns(t){t.fixed&=-5}s.interpolateTransform=xs,s.layout={},s.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Ls(t[n]));return e}},s.layout.chord=function(){var t,e,n,r,i,o,a,l={},u=0;function c(){var l,c,f,p,d,m={},g=[],_=s.range(r),v=[];for(t=[],e=[],l=0,p=-1;++p<r;){for(c=0,d=-1;++d<r;)c+=n[p][d];g.push(c),v.push(s.range(r)),l+=c}for(i&&_.sort((function(t,e){return i(g[t],g[e])})),o&&v.forEach((function(t,e){t.sort((function(t,r){return o(n[e][t],n[e][r])}))})),l=(Rt-u*r)/l,c=0,p=-1;++p<r;){for(f=c,d=-1;++d<r;){var y=_[p],E=v[y][d],C=n[y][E],w=c,b=c+=C*l;m[y+"-"+E]={index:y,subindex:E,startAngle:w,endAngle:b,value:C}}e[y]={index:y,startAngle:f,endAngle:c,value:g[y]},c+=u}for(p=-1;++p<r;)for(d=p-1;++d<r;){var x=m[p+"-"+d],M=m[d+"-"+p];(x.value||M.value)&&t.push(x.value<M.value?{source:M,target:x}:{source:x,target:M})}a&&h()}function h(){t.sort((function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(a=e,t&&h(),l):a},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},s.layout.force=function(){var t,e,n,r,i,o,a={},l=s.dispatch("start","tick","end"),u=[1,1],c=.9,h=ks,f=Ds,p=-30,d=Ps,m=.1,g=.64,_=[],v=[];function y(t){return function(e,n,r,i){if(e.point!==t){var s=e.cx-t.x,o=e.cy-t.y,a=i-n,l=s*s+o*o;if(a*a/g<l){if(l<d){var u=e.charge/l;t.px-=s*u,t.py-=o*u}return!0}if(e.point&&l&&l<d){u=e.pointCharge/l;t.px-=s*u,t.py-=o*u}}return!e.charge}}function E(t){t.px=s.event.x,t.py=s.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,a,h,f,d,g,E,C,w,b=_.length,x=v.length;for(a=0;a<x;++a)f=(h=v[a]).source,(g=(C=(d=h.target).x-f.x)*C+(w=d.y-f.y)*w)&&(C*=g=n*i[a]*((g=Math.sqrt(g))-r[a])/g,w*=g,d.x-=C*(E=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=w*E,f.x+=C*(E=1-E),f.y+=w*E);if((E=n*m)&&(C=u[0]/2,w=u[1]/2,a=-1,E))for(;++a<b;)(h=_[a]).x+=(C-h.x)*E,h.y+=(w-h.y)*E;if(p)for(!function t(e,n,r){var i=0,s=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,l=a.length,u=-1;++u<l;)null!=(o=a[u])&&(t(o,n,r),e.charge+=o.charge,i+=o.charge*o.cx,s+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,s+=c*e.point.y}e.cx=i/e.charge,e.cy=s/e.charge}(e=s.geom.quadtree(_),n,o),a=-1;++a<b;)(h=_[a]).fixed||e.visit(y(h));for(a=-1;++a<b;)(h=_[a]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);l.tick({type:"tick",alpha:n})},a.nodes=function(t){return arguments.length?(_=t,a):_},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(u=t,a):u},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(d=t*t,a):Math.sqrt(d)},a.gravity=function(t){return arguments.length?(m=+t,a):m},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=Se(a.tick)),a):n},a.start=function(){var t,e,n,s=_.length,l=v.length,c=u[0],d=u[1];for(t=0;t<s;++t)(n=_[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=v[t]).source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<s;++t)n=_[t],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",d)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof h)for(t=0;t<l;++t)r[t]=+h.call(this,v[t],t);else for(t=0;t<l;++t)r[t]=h;if(i=[],"function"==typeof f)for(t=0;t<l;++t)i[t]=+f.call(this,v[t],t);else for(t=0;t<l;++t)i[t]=f;if(o=[],"function"==typeof p)for(t=0;t<s;++t)o[t]=+p.call(this,_[t],t);else for(t=0;t<s;++t)o[t]=p;function m(n,r){if(!e){for(e=new Array(s),u=0;u<s;++u)e[u]=[];for(u=0;u<l;++u){var i=v[u];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,a=e[t],u=-1,c=a.length;++u<c;)if(!isNaN(o=a[u][n]))return o;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=s.behavior.drag().origin(D).on("dragstart.force",Is).on("drag.force",E).on("dragend.force",Ts)),!arguments.length)return e;this.on("mouseover.force",Rs).on("mouseout.force",Ns).call(e)},s.rebind(a,l,"on")};var ks=20,Ds=1,Ps=1/0;function Os(t,e){return s.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=zs,t}function Fs(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Bs(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(s=t.children)&&(i=s.length))for(var i,s,o=-1;++o<i;)n.push(s[o]);for(;null!=(t=r.pop());)e(t)}function Hs(t){return t.children}function Us(t){return t.value}function qs(t,e){return e.value-t.value}function zs(t){return s.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}s.layout.hierarchy=function(){var t=qs,e=Hs,n=Us;function r(i){var s,o=[i],a=[];for(i.depth=0;null!=(s=o.pop());)if(a.push(s),(u=e.call(r,s,s.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=s,c.depth=s.depth+1;n&&(s.value=0),s.children=u}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return Bs(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),a}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Fs(t,(function(t){t.children&&(t.value=0)})),Bs(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},s.layout.partition=function(){var t=s.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var s=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,s&&(o=s.length)){var o,a,l,u=-1;for(r=e.value?r/e.value:0;++u<o;)t(a=s[u],n,l=a.value*r,i),n+=l}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,s=-1;++s<i;)r=Math.max(r,t(n[s]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},Os(n,t)},s.layout.pie=function(){var t=Number,e=js,n=0,r=Rt,i=0;function o(a){var l,u=a.length,c=a.map((function(e,n){return+t.call(o,e,n)})),h=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-h,p=Math.min(Math.abs(f)/u,+("function"==typeof i?i.apply(this,arguments):i)),d=p*(f<0?-1:1),m=s.sum(c),g=m?(f-u*d)/m:0,_=s.range(u),v=[];return null!=e&&_.sort(e===js?function(t,e){return c[e]-c[t]}:function(t,n){return e(a[t],a[n])}),_.forEach((function(t){v[t]={data:a[t],value:l=c[t],startAngle:h,endAngle:h+=l*g+d,padAngle:p}})),v}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(t){return arguments.length?(e=t,o):e},o.startAngle=function(t){return arguments.length?(n=t,o):n},o.endAngle=function(t){return arguments.length?(r=t,o):r},o.padAngle=function(t){return arguments.length?(i=t,o):i},o};var js={};function Vs(t){return t.x}function Gs(t){return t.y}function Ys(t,e,n){t.y0=e,t.y=n}s.layout.stack=function(){var t=D,e=Ks,n=Js,r=Ys,i=Vs,o=Gs;function a(l,u){if(!(p=l.length))return l;var c=l.map((function(e,n){return t.call(a,e,n)})),h=c.map((function(t){return t.map((function(t,e){return[i.call(a,t,e),o.call(a,t,e)]}))})),f=e.call(a,h,u);c=s.permute(c,f),h=s.permute(h,f);var p,d,m,g,_=n.call(a,h,u),v=c[0].length;for(m=0;m<v;++m)for(r.call(a,c[0][m],g=_[m],h[0][m][1]),d=1;d<p;++d)r.call(a,c[d][m],g+=h[d-1][m][1],h[d][m][1]);return l}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"==typeof t?t:Ws.get(t)||Ks,a):e},a.offset=function(t){return arguments.length?(n="function"==typeof t?t:Xs.get(t)||Js,a):n},a.x=function(t){return arguments.length?(i=t,a):i},a.y=function(t){return arguments.length?(o=t,a):o},a.out=function(t){return arguments.length?(r=t,a):r},a};var Ws=s.map({"inside-out":function(t){var e,n,r=t.length,i=t.map($s),o=t.map(Zs),a=s.range(r).sort((function(t,e){return i[t]-i[e]})),l=0,u=0,c=[],h=[];for(e=0;e<r;++e)n=a[e],l<u?(l+=o[n],c.push(n)):(u+=o[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return s.range(t.length).reverse()},default:Ks}),Xs=s.map({silhouette:function(t){var e,n,r,i=t.length,s=t[0].length,o=[],a=0,l=[];for(n=0;n<s;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>a&&(a=r),o.push(r)}for(n=0;n<s;++n)l[n]=(a-o[n])/2;return l},wiggle:function(t){var e,n,r,i,s,o,a,l,u,c=t.length,h=t[0],f=h.length,p=[];for(p[0]=l=u=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,s=0,a=h[n][0]-h[n-1][0];e<c;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*a);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/a;s+=o*t[e][n][1]}p[n]=l-=i?s/i*a:0,l<u&&(u=l)}for(n=0;n<f;++n)p[n]-=u;return p},expand:function(t){var e,n,r,i=t.length,s=t[0].length,o=1/i,a=[];for(n=0;n<s;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<s;++n)a[n]=0;return a},zero:Js});function Ks(t){return s.range(t.length)}function Js(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function $s(t){for(var e,n=1,r=0,i=t[0][1],s=t.length;n<s;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Zs(t){return t.reduce(Qs,0)}function Qs(t,e){return t+e[1]}function to(t,e){return eo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function eo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,s=[];++n<=e;)s[n]=i*n+r;return s}function no(t){return[s.min(t),s.max(t)]}function ro(t,e){return t.value-e.value}function io(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function so(t,e){t._pack_next=e,e._pack_prev=t}function oo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function ao(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,s,o,a,l,u=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(lo),(n=e[0]).x=-n.r,n.y=0,y(n),l>1&&((r=e[1]).x=r.r,r.y=0,y(r),l>2))for(co(n,r,i=e[2]),y(i),io(n,i),n._pack_prev=i,io(i,r),r=n._pack_next,s=3;s<l;s++){co(n,r,i=e[s]);var p=0,d=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,d++)if(oo(o,i)){p=1;break}if(1==p)for(a=n._pack_prev;a!==o._pack_prev&&!oo(a,i);a=a._pack_prev,m++);p?(d<m||d==m&&r.r<n.r?so(n,r=o):so(n=a,r),s--):(io(n,i),r=i,y(i))}var g=(u+c)/2,_=(h+f)/2,v=0;for(s=0;s<l;s++)(i=e[s]).x-=g,i.y-=_,v=Math.max(v,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=v,e.forEach(uo)}function y(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function lo(t){t._pack_next=t._pack_prev=t}function uo(t){delete t._pack_next,delete t._pack_prev}function co(t,e,n){var r=t.r+n.r,i=e.x-t.x,s=e.y-t.y;if(r&&(i||s)){var o=e.r+n.r,a=i*i+s*s,l=.5+((r*=r)-(o*=o))/(2*a),u=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);n.x=t.x+l*i+u*s,n.y=t.y+l*s-u*i}else n.x=t.x+r,n.y=t.y}function ho(t,e){return t.parent==e.parent?1:2}function fo(t){var e=t.children;return e.length?e[0]:t.t}function po(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function mo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function go(t,e,n){return t.a.parent===e.parent?t.a:n}function _o(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function vo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],s=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function yo(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Eo(t){return t.rangeExtent?t.rangeExtent():yo(t.range())}function Co(t,e,n,r){var i=n(t[0],t[1]),s=r(e[0],e[1]);return function(t){return s(i(t))}}function wo(t,e){var n,r=0,i=t.length-1,s=t[r],o=t[i];return o<s&&(n=r,r=i,i=n,n=s,s=o,o=n),t[r]=e.floor(s),t[i]=e.ceil(o),t}function bo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:xo}s.layout.histogram=function(){var t=!0,e=Number,n=no,r=to;function i(i,o){for(var a,l,u=[],c=i.map(e,this),h=n.call(this,c,o),f=r.call(this,h,c,o),p=(o=-1,c.length),d=f.length-1,m=t?1:1/p;++o<d;)(a=u[o]=[]).dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<p;)(l=c[o])>=h[0]&&l<=h[1]&&((a=u[s.bisect(f,l,1,d)-1]).y+=m,a.push(i[o]));return u}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=ve(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return eo(e,t)}:ve(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},s.layout.pack=function(){var t,e=s.layout.hierarchy().sort(ro),n=0,r=[1,1];function i(i,s){var o=e.call(this,i,s),a=o[0],l=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Bs(a,(function(t){t.r=+c(t.value)})),Bs(a,ao),n){var h=n*(t?1:Math.max(2*a.r/l,2*a.r/u))/2;Bs(a,(function(t){t.r+=h})),Bs(a,ao),Bs(a,(function(t){t.r-=h}))}return function t(e,n,r,i){var s=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,s)for(var o=-1,a=s.length;++o<a;)t(s[o],n,r,i)}(a,l/2,u/2,t?1:1/Math.max(2*a.r/l,2*a.r/u)),o}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Os(i,e)},s.layout.tree=function(){var t=s.layout.hierarchy().sort(null).value(null),e=ho,n=[1,1],r=null;function i(i,s){var u=t.call(this,i,s),c=u[0],h=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,s=e.children,o=0,a=s.length;o<a;++o)r.push((s[o]=i={_:s[o],parent:e,children:(i=s[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(c);if(Bs(h,o),h.parent.m=-h.z,Fs(h,a),r)Fs(c,l);else{var f=c,p=c,d=c;Fs(c,(function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var m=e(f,p)/2-f.x,g=n[0]/(p.x+e(p,f)/2+m),_=n[1]/(d.depth||1);Fs(c,(function(t){t.x=(t.x+m)*g,t.y=t.depth*_}))}return u}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,s=i.length;for(;--s>=0;)(e=i[s]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var s=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-s):t.z=s}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,s=t,o=t,a=n,l=s.parent.children[0],u=s.m,c=o.m,h=a.m,f=l.m;a=po(a),s=fo(s),a&&s;)l=fo(l),(o=po(o)).a=t,(i=a.z+h-s.z-u+e(a._,s._))>0&&(mo(go(a,t,r),t,i),u+=i,c+=i),h+=a.m,u+=s.m,f+=l.m,c+=o.m;a&&!po(o)&&(o.t=a,o.m+=h-c),s&&!fo(l)&&(l.t=s,l.m+=u-f,r=t)}return r}(t,i,t.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?l:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:l,i):r?n:null},Os(i,t)},s.layout.cluster=function(){var t=s.layout.hierarchy().sort(null).value(null),e=ho,n=[1,1],r=!1;function i(i,o){var a,l=t.call(this,i,o),u=l[0],c=0;Bs(u,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+s.max(t,(function(t){return t.y}))}(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)}));var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),p=h.x-e(h,f)/2,d=f.x+e(f,h)/2;return Bs(u,r?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),l}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Os(i,t)},s.layout.treemap=function(){var t,e=s.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=_o,a=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,s=t.length;++i<s;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,s=o(t),a=[],u=e.slice(),f=1/0,m="slice"===l?s.dx:"dice"===l?s.dy:"slice-dice"===l?1&t.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(c(u,s.dx*s.dy/t.value),a.area=0;(i=u.length)>0;)a.push(n=u[i-1]),a.area+=n.area,"squarify"!==l||(r=p(a,m))<=f?(u.pop(),f=r):(a.area-=a.pop().area,d(a,m,s,!1),m=Math.min(s.dx,s.dy),a.length=a.area=0,f=1/0);a.length&&(d(a,m,s,!0),a.length=a.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),s=[];for(c(i,r.dx*r.dy/t.value),s.area=0;n=i.pop();)s.push(n),s.area+=n.area,null!=n.z&&(d(s,n.z?r.dx:r.dy,r,!i.length),s.length=s.area=0);e.forEach(f)}}function p(t,e){for(var n,r=t.area,i=0,s=1/0,o=-1,a=t.length;++o<a;)(n=t[o].area)&&(n<s&&(s=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*s*u)):1/0}function d(t,e,r,i){var s,o=-1,a=t.length,l=r.x,u=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++o<a;)(s=t[o]).x=l,s.y=u,s.dy=c,l+=s.dx=Math.min(r.x+r.dx-l,c?n(s.area/c):0);s.z=!0,s.dx+=r.x+r.dx-l,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++o<a;)(s=t[o]).x=l,s.y=u,s.dx=c,u+=s.dy=Math.min(r.y+r.dy-u,c?n(s.area/c):0);s.z=!1,s.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function m(n){var i=t||e(n),s=i[0];return s.x=s.y=0,s.value?(s.dx=r[0],s.dy=r[1]):s.dx=s.dy=0,t&&e.revalue(s),c([s],s.dx*s.dy/s.value),(t?f:h)(s),a&&(t=i),i}return m.size=function(t){return arguments.length?(r=t,m):r},m.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(m,e,e.depth);return null==n?_o(e):vo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return vo(e,t)}var r;return o=null==(i=t)?_o:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,m},m.round=function(t){return arguments.length?(n=t?Math.round:Number,m):n!=Number},m.sticky=function(e){return arguments.length?(a=e,t=null,m):a},m.ratio=function(t){return arguments.length?(u=t,m):u},m.mode=function(t){return arguments.length?(l=t+"",m):l},Os(m,e)},s.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=s.random.normal.apply(s,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=s.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},s.scale={};var xo={floor:D,ceil:D};function Mo(t,e,n,r){var i=[],o=[],a=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=l;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=s.bisect(t,e,1,l)-1;return o[n](i[n](e))}}function So(t,e){return s.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Lo(t,e){return wo(t,bo(Ao(t,e)[2])),wo(t,bo(Ao(t,e)[2])),t}function Ao(t,e){null==e&&(e=10);var n=yo(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),s=e/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Io(t,e){return s.range.apply(s,Ao(t,e))}function To(t,e,n){var r=Ao(t,e);if(n){var i=ke.exec(n);if(i.shift(),"s"===i[8]){var o=s.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+No(o.scale(r[2]))),i[8]="f",n=s.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+function(t,e){var n=No(e[2]);return t in Ro?Math.abs(n-No(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+No(r[2])+"f";return s.format(n)}s.scale.linear=function(){return function t(e,n,r,i){var s,o;function a(){var t=Math.min(e.length,n.length)>2?Mo:Co,a=i?Ss:Ms;return s=t(e,n,a,r),o=t(n,e,a,rs),l}function l(t){return s(t)}return l.invert=function(t){return o(t)},l.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},l.range=function(t){return arguments.length?(n=t,a()):n},l.rangeRound=function(t){return l.range(t).interpolate(vs)},l.clamp=function(t){return arguments.length?(i=t,a()):i},l.interpolate=function(t){return arguments.length?(r=t,a()):r},l.ticks=function(t){return Io(e,t)},l.tickFormat=function(t,n){return To(e,t,n)},l.nice=function(t){return Lo(e,t),a()},l.copy=function(){return t(e,n,r,i)},a()}([0,1],[0,1],rs,!1)};var Ro={s:1,g:1,p:1,r:1,e:1};function No(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}s.scale.log=function(){return function t(e,n,r,i){function o(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(o(t))}return l.invert=function(t){return a(e.invert(t))},l.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(o)),l):i},l.base=function(t){return arguments.length?(n=+t,e.domain(i.map(o)),l):n},l.nice=function(){var t=wo(i.map(o),r?Math:Do);return e.domain(t),i=t.map(a),l},l.ticks=function(){var t=yo(i),e=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),h=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var f=1;f<h;f++)e.push(a(u)*f);e.push(a(u))}else for(e.push(a(u));u++<c;)for(f=h-1;f>0;f--)e.push(a(u)*f);for(u=0;e[u]<s;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e},l.tickFormat=function(t,e){if(!arguments.length)return ko;arguments.length<2?e=ko:"function"!=typeof e&&(e=s.format(e));var r=Math.max(1,n*t/l.ticks().length);return function(t){var i=t/a(Math.round(o(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}},l.copy=function(){return t(e.copy(),n,r,i)},So(l,e)}(s.scale.linear().domain([0,1]),10,!0,[1,10])};var ko=s.format(".0e"),Do={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Po(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}s.scale.pow=function(){return function t(e,n,r){var i=Po(n),s=Po(1/n);function o(t){return e(i(t))}return o.invert=function(t){return s(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),o):r},o.ticks=function(t){return Io(r,t)},o.tickFormat=function(t,e){return To(r,t,e)},o.nice=function(t){return o.domain(Lo(r,t))},o.exponent=function(t){return arguments.length?(i=Po(n=t),s=Po(1/n),e.domain(r.map(i)),o):n},o.copy=function(){return t(e.copy(),n,r)},So(o,e)}(s.scale.linear(),1,[0,1])},s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return function t(e,n){var r,i,o;function a(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function l(t,n){return s.range(e.length).map((function(e){return t+n*e}))}return a.domain=function(t){if(!arguments.length)return e;e=[],r=new M;for(var i,s=-1,o=t.length;++s<o;)r.has(i=t[s])||r.set(i,e.push(i));return a[n.t].apply(a,n.a)},a.range=function(t){return arguments.length?(i=t,o=0,n={t:"range",a:arguments},a):i},a.rangePoints=function(t,r){arguments.length<2&&(r=0);var s=t[0],u=t[1],c=e.length<2?(s=(s+u)/2,0):(u-s)/(e.length-1+r);return i=l(s+c*r/2,c),o=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var s=t[0],u=t[1],c=e.length<2?(s=u=Math.round((s+u)/2),0):(u-s)/(e.length-1+r)|0;return i=l(s+Math.round(c*r/2+(u-s-(e.length-1+r)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(t,r,s){arguments.length<2&&(r=0),arguments.length<3&&(s=r);var u=t[1]<t[0],c=t[u-0],h=t[1-u],f=(h-c)/(e.length-r+2*s);return i=l(c+f*s,f),u&&i.reverse(),o=f*(1-r),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(t,r,s){arguments.length<2&&(r=0),arguments.length<3&&(s=r);var u=t[1]<t[0],c=t[u-0],h=t[1-u],f=Math.floor((h-c)/(e.length-r+2*s));return i=l(c+Math.round((h-c-(e.length-r)*f)/2),f),u&&i.reverse(),o=Math.round(f*(1-r)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return o},a.rangeExtent=function(){return yo(n.a[0])},a.copy=function(){return t(e,n)},a.domain(e)}([],{t:"range",a:[[]]})},s.scale.category10=function(){return s.scale.ordinal().range(Oo)},s.scale.category20=function(){return s.scale.ordinal().range(Fo)},s.scale.category20b=function(){return s.scale.ordinal().range(Bo)},s.scale.category20c=function(){return s.scale.ordinal().range(Ho)};var Oo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ue),Fo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ue),Bo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ue),Ho=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ue);function Uo(){return 0}s.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=s.quantile(e,t/i);return o}function o(t){if(!isNaN(t=+t))return n[s.bisect(r,t)]}return o.domain=function(t){return arguments.length?(e=t.map(_).filter(v).sort(g),i()):e},o.range=function(t){return arguments.length?(n=t,i()):n},o.quantiles=function(){return r},o.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},o.copy=function(){return t(e,n)},i()}([],[])},s.scale.quantize=function(){return function t(e,n,r){var i,s;function o(t){return r[Math.max(0,Math.min(s,Math.floor(i*(t-e))))]}function a(){return i=r.length/(n-e),s=r.length-1,o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]},o.range=function(t){return arguments.length?(r=t,a()):r},o.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},o.copy=function(){return t(e,n,r)},a()}(0,1,[0,1])},s.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[s.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},s.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return Io(e,t)},n.tickFormat=function(t,n){return To(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},s.svg={},s.svg.arc=function(){var t=zo,e=jo,n=Uo,r=qo,i=Vo,s=Go,o=Yo;function a(){var a=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-kt,h=s.apply(this,arguments)-kt,f=Math.abs(h-c),p=c>h?0:1;if(u<a&&(d=u,u=a,a=d),f>=Nt)return l(u,p)+(a?l(a,1-p):"")+"Z";var d,m,g,_,v,y,E,C,w,b,x,M,S=0,L=0,A=[];if((_=(+o.apply(this,arguments)||0)/2)&&(g=r===qo?Math.sqrt(a*a+u*u):+r.apply(this,arguments),p||(L*=-1),u&&(L=Ht(g/u*Math.sin(_))),a&&(S=Ht(g/a*Math.sin(_)))),u){v=u*Math.cos(c+L),y=u*Math.sin(c+L),E=u*Math.cos(h-L),C=u*Math.sin(h-L);var I=Math.abs(h-c-2*L)<=Tt?0:1;if(L&&Wo(v,y,E,C)===p^I){var T=(c+h)/2;v=u*Math.cos(T),y=u*Math.sin(T),E=C=null}}else v=y=0;if(a){w=a*Math.cos(h-S),b=a*Math.sin(h-S),x=a*Math.cos(c+S),M=a*Math.sin(c+S);var R=Math.abs(c-h+2*S)<=Tt?0:1;if(S&&Wo(w,b,x,M)===1-p^R){var N=(c+h)/2;w=a*Math.cos(N),b=a*Math.sin(N),x=M=null}}else w=b=0;if(f>At&&(d=Math.min(Math.abs(u-a)/2,+n.apply(this,arguments)))>.001){m=a<u^p?0:1;var k=d,D=d;if(f<Tt){var P=null==x?[w,b]:null==E?[v,y]:fi([v,y],[x,M],[E,C],[w,b]),O=v-P[0],F=y-P[1],B=E-P[0],H=C-P[1],U=1/Math.sin(Math.acos((O*B+F*H)/(Math.sqrt(O*O+F*F)*Math.sqrt(B*B+H*H)))/2),q=Math.sqrt(P[0]*P[0]+P[1]*P[1]);D=Math.min(d,(a-q)/(U-1)),k=Math.min(d,(u-q)/(U+1))}if(null!=E){var z=Xo(null==x?[w,b]:[x,M],[v,y],u,k,p),j=Xo([E,C],[w,b],u,k,p);d===k?A.push("M",z[0],"A",k,",",k," 0 0,",m," ",z[1],"A",u,",",u," 0 ",1-p^Wo(z[1][0],z[1][1],j[1][0],j[1][1]),",",p," ",j[1],"A",k,",",k," 0 0,",m," ",j[0]):A.push("M",z[0],"A",k,",",k," 0 1,",m," ",j[0])}else A.push("M",v,",",y);if(null!=x){var V=Xo([v,y],[x,M],a,-D,p),G=Xo([w,b],null==E?[v,y]:[E,C],a,-D,p);d===D?A.push("L",G[0],"A",D,",",D," 0 0,",m," ",G[1],"A",a,",",a," 0 ",p^Wo(G[1][0],G[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",D,",",D," 0 0,",m," ",V[0]):A.push("L",G[0],"A",D,",",D," 0 0,",m," ",V[0])}else A.push("L",w,",",b)}else A.push("M",v,",",y),null!=E&&A.push("A",u,",",u," 0 ",I,",",p," ",E,",",C),A.push("L",w,",",b),null!=x&&A.push("A",a,",",a," 0 ",R,",",1-p," ",x,",",M);return A.push("Z"),A.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=ve(e),a):t},a.outerRadius=function(t){return arguments.length?(e=ve(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=ve(t),a):n},a.padRadius=function(t){return arguments.length?(r=t==qo?qo:ve(t),a):r},a.startAngle=function(t){return arguments.length?(i=ve(t),a):i},a.endAngle=function(t){return arguments.length?(s=ve(t),a):s},a.padAngle=function(t){return arguments.length?(o=ve(t),a):o},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-kt;return[Math.cos(r)*n,Math.sin(r)*n]},a};var qo="auto";function zo(t){return t.innerRadius}function jo(t){return t.outerRadius}function Vo(t){return t.startAngle}function Go(t){return t.endAngle}function Yo(t){return t&&t.padAngle}function Wo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Xo(t,e,n,r,i){var s=t[0]-e[0],o=t[1]-e[1],a=(i?r:-r)/Math.sqrt(s*s+o*o),l=a*o,u=-a*s,c=t[0]+l,h=t[1]+u,f=e[0]+l,p=e[1]+u,d=(c+f)/2,m=(h+p)/2,g=f-c,_=p-h,v=g*g+_*_,y=n-r,E=c*p-f*h,C=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-E*E)),w=(E*_-g*C)/v,b=(-E*g-_*C)/v,x=(E*_+g*C)/v,M=(-E*g+_*C)/v,S=w-d,L=b-m,A=x-d,I=M-m;return S*S+L*L>A*A+I*I&&(w=x,b=M),[[w-l,b-u],[w*n/y,b*n/y]]}function Ko(t){var e=oi,n=ai,r=$n,i=$o,s=i.key,o=.7;function a(s){var a,l=[],u=[],c=-1,h=s.length,f=ve(e),p=ve(n);function d(){l.push("M",i(t(u),o))}for(;++c<h;)r.call(this,a=s[c],c)?u.push([+f.call(this,a,c),+p.call(this,a,c)]):u.length&&(d(),u=[]);return u.length&&d(),l.length?l.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(r=t,a):r},a.interpolate=function(t){return arguments.length?(s="function"==typeof t?i=t:(i=Jo.get(t)||$o).key,a):s},a.tension=function(t){return arguments.length?(o=t,a):o},a}s.svg.line=function(){return Ko(D)};var Jo=s.map({linear:$o,"linear-closed":Zo,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Qo,"step-after":ta,basis:ra,"basis-open":function(t){if(t.length<4)return $o(t);var e,n=[],r=-1,i=t.length,s=[0],o=[0];for(;++r<3;)e=t[r],s.push(e[0]),o.push(e[1]);n.push(ia(aa,s)+","+ia(aa,o)),--r;for(;++r<i;)e=t[r],s.shift(),s.push(e[0]),o.shift(),o.push(e[1]),la(n,s,o);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,s=i+4,o=[],a=[];for(;++r<4;)n=t[r%i],o.push(n[0]),a.push(n[1]);e=[ia(aa,o),",",ia(aa,a)],--r;for(;++r<s;)n=t[r%i],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),la(e,o,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,s=t[0][0],o=t[0][1],a=t[n][0]-s,l=t[n][1]-o,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(s+i*a),r[1]=e*r[1]+(1-e)*(o+i*l);return ra(t)},cardinal:function(t,e){return t.length<3?$o(t):t[0]+ea(t,na(t,e))},"cardinal-open":function(t,e){return t.length<4?$o(t):t[1]+ea(t.slice(1,-1),na(t,e))},"cardinal-closed":function(t,e){return t.length<3?Zo(t):t[0]+ea((t.push(t[0]),t),na([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?$o(t):t[0]+ea(t,function(t){var e,n,r,i,s=[],o=function(t){var e=0,n=t.length-1,r=[],i=t[0],s=t[1],o=r[0]=ua(i,s);for(;++e<n;)r[e]=(o+(o=ua(i=s,s=t[e+1])))/2;return r[e]=o,r}(t),a=-1,l=t.length-1;for(;++a<l;)e=ua(t[a],t[a+1]),w(e)<At?o[a]=o[a+1]=0:(n=o[a]/e,r=o[a+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),o[a]=i*n,o[a+1]=i*r));a=-1;for(;++a<=l;)i=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),s.push([i||0,o[a]*i||0]);return s}(t))}});function $o(t){return t.length>1?t.join("L"):t+"Z"}function Zo(t){return t.join("L")+"Z"}function Qo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ta(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function ea(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return $o(t);var n=t.length!=e.length,r="",i=t[0],s=t[1],o=e[0],a=o,l=1;if(n&&(r+="Q"+(s[0]-2*o[0]/3)+","+(s[1]-2*o[1]/3)+","+s[0]+","+s[1],i=t[1],l=2),e.length>1){a=e[1],s=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1];for(var u=2;u<e.length;u++,l++)s=t[l],a=e[u],r+="S"+(s[0]-a[0])+","+(s[1]-a[1])+","+s[0]+","+s[1]}if(n){var c=t[l];r+="Q"+(s[0]+2*a[0]/3)+","+(s[1]+2*a[1]/3)+","+c[0]+","+c[1]}return r}function na(t,e){for(var n,r=[],i=(1-e)/2,s=t[0],o=t[1],a=1,l=t.length;++a<l;)n=s,s=o,o=t[a],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function ra(t){if(t.length<3)return $o(t);var e=1,n=t.length,r=t[0],i=r[0],s=r[1],o=[i,i,i,(r=t[1])[0]],a=[s,s,s,r[1]],l=[i,",",s,"L",ia(aa,o),",",ia(aa,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),la(l,o,a);return t.pop(),l.push("L",r),l.join("")}function ia(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Jo.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var sa=[0,2/3,1/3,0],oa=[0,1/3,2/3,0],aa=[0,1/6,2/3,1/6];function la(t,e,n){t.push("C",ia(sa,e),",",ia(sa,n),",",ia(oa,e),",",ia(oa,n),",",ia(aa,e),",",ia(aa,n))}function ua(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ca(t){for(var e,n,r,i=-1,s=t.length;++i<s;)n=(e=t[i])[0],r=e[1]-kt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ha(t){var e=oi,n=oi,r=0,i=ai,s=$n,o=$o,a=o.key,l=o,u="L",c=.7;function h(a){var h,f,p,d=[],m=[],g=[],_=-1,v=a.length,y=ve(e),E=ve(r),C=e===n?function(){return f}:ve(n),w=r===i?function(){return p}:ve(i);function b(){d.push("M",o(t(g),c),u,l(t(m.reverse()),c),"Z")}for(;++_<v;)s.call(this,h=a[_],_)?(m.push([f=+y.call(this,h,_),p=+E.call(this,h,_)]),g.push([+C.call(this,h,_),+w.call(this,h,_)])):m.length&&(b(),m=[],g=[]);return m.length&&b(),d.length?d.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(s=t,h):s},h.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Jo.get(t)||$o).key,l=o.reverse||o,u=o.closed?"M":"L",h):a},h.tension=function(t){return arguments.length?(c=t,h):c},h}function fa(t){return t.radius}function pa(t){return[t.x,t.y]}function da(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-kt;return[n*Math.cos(r),n*Math.sin(r)]}}function ma(){return 64}function ga(){return"circle"}function _a(t){var e=Math.sqrt(t/Tt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}s.svg.line.radial=function(){var t=Ko(ca);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Qo.reverse=ta,ta.reverse=Qo,s.svg.area=function(){return ha(D)},s.svg.area.radial=function(){var t=ha(ca);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},s.svg.chord=function(){var t=Yr,e=Wr,n=fa,r=Vo,i=Go;function s(n,r){var i,s,u=o(this,t,n,r),c=o(this,e,n,r);return"M"+u.p0+a(u.r,u.p1,u.a1-u.a0)+(s=c,((i=u).a0==s.a0&&i.a1==s.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+a(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z")}function o(t,e,s,o){var a=e.call(t,s,o),l=n.call(t,a,o),u=r.call(t,a,o)-kt,c=i.call(t,a,o)-kt;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Tt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return s.radius=function(t){return arguments.length?(n=ve(t),s):n},s.source=function(e){return arguments.length?(t=ve(e),s):t},s.target=function(t){return arguments.length?(e=ve(t),s):e},s.startAngle=function(t){return arguments.length?(r=ve(t),s):r},s.endAngle=function(t){return arguments.length?(i=ve(t),s):i},s},s.svg.diagonal=function(){var t=Yr,e=Wr,n=pa;function r(r,i){var s=t.call(this,r,i),o=e.call(this,r,i),a=(s.y+o.y)/2,l=[s,{x:s.x,y:a},{x:o.x,y:a},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ve(e),r):t},r.target=function(t){return arguments.length?(e=ve(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},s.svg.diagonal.radial=function(){var t=s.svg.diagonal(),e=pa,n=t.projection;return t.projection=function(t){return arguments.length?n(da(e=t)):e},t},s.svg.symbol=function(){var t=ga,e=ma;function n(n,r){return(va.get(t.call(this,n,r))||_a)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ve(e),n):t},n.size=function(t){return arguments.length?(e=ve(t),n):e},n};var va=s.map({circle:_a,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ea)),n=e*Ea;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ya),n=e*ya/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ya),n=e*ya/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});s.svg.symbolTypes=va.keys();var ya=Math.sqrt(3),Ea=Math.tan(30*Dt);J.transition=function(t){for(var e,n,r=xa||++La,i=Ta(t),s=[],o=Ma||{time:Date.now(),ease:ps,delay:0,duration:250},a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(n=u[c])&&Ra(n,c,i,r,o),e.push(n)}return ba(s,i,r)},J.interrupt=function(t){return this.each(null==t?Ca:wa(Ta(t)))};var Ca=wa(Ta());function wa(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ba(t,e,n){return G(t,Sa),t.namespace=e,t.id=n,t}var xa,Ma,Sa=[],La=0;function Aa(t,e,n,r){var i=t.id,s=t.namespace;return dt(t,"function"==typeof n?function(t,o,a){t[s][i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t[s][i].tween.set(e,n)}))}function Ia(t){return null==t&&(t=""),function(){this.textContent=t}}function Ta(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ra(t,e,n,r,i){var s,o,a,l,u,c=t[n]||(t[n]={active:0,count:0}),h=c[r];function f(n){var i=c.active,f=c[i];for(var d in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+d<r){var m=c[d];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[d]}o.c=p,Se((function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1}),0,s),c.active=r,h.event&&h.event.start.call(t,t.__data__,e),u=[],h.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&u.push(r)})),l=h.ease,a=h.duration}function p(i){for(var s=i/a,o=l(s),f=u.length;f>0;)u[--f].call(t,o);if(s>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}h||(s=i.time,o=Se((function(t){var e=h.delay;if(o.t=e+s,e<=t)return f(t-e);o.c=f}),0,s),h=c[r]={tween:new M,time:s,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}Sa.call=J.call,Sa.empty=J.empty,Sa.node=J.node,Sa.size=J.size,s.transition=function(t,e){return t&&t.transition?xa?t.transition(e):t:s.selection().transition(t)},s.transition.prototype=Sa,Sa.select=function(t){var e,n,r,i=this.id,s=this.namespace,o=[];t=$(t);for(var a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=t.call(r,r.__data__,c,a))?("__data__"in r&&(n.__data__=r.__data__),Ra(n,c,s,i,r[s][i]),e.push(n)):e.push(null)}return ba(o,s,i)},Sa.selectAll=function(t){var e,n,r,i,s,o=this.id,a=this.namespace,l=[];t=Z(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],f=-1,p=h.length;++f<p;)if(r=h[f]){s=r[a][o],n=t.call(r,r.__data__,f,u),l.push(e=[]);for(var d=-1,m=n.length;++d<m;)(i=n[d])&&Ra(i,d,a,o,s),e.push(i)}return ba(l,a,o)},Sa.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,s=this.length;i<s;i++){r.push(e=[]);for(var o,a=0,l=(o=this[i]).length;a<l;a++)(n=o[a])&&t.call(n,n.__data__,a,i)&&e.push(n)}return ba(r,this.namespace,this.id)},Sa.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):dt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Sa.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?xs:rs,r=s.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function a(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function l(t){return null==t?o:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Aa(this,"attr."+t,e,r.local?l:a)},Sa.attrTween=function(t,e){var n=s.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},Sa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function s(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=rs(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Aa(this,"style."+t,e,s)},Sa.styleTween=function(t,e,n){function r(r,i){var s=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Sa.text=function(t){return Aa(this,"text",t,Ia)},Sa.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Sa.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=s.ease.apply(s,arguments)),dt(this,(function(r){r[n][e].ease=t})))},Sa.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:dt(this,"function"==typeof t?function(r,i,s){r[n][e].delay=+t.call(r,r.__data__,i,s)}:(t=+t,function(r){r[n][e].delay=t}))},Sa.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:dt(this,"function"==typeof t?function(r,i,s){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,s))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Sa.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ma,o=xa;try{xa=n,dt(this,(function(e,i,s){Ma=e[r][n],t.call(e,e.__data__,i,s)}))}finally{Ma=i,xa=o}}else dt(this,(function(i){var o=i[r][n];(o.event||(o.event=s.dispatch("start","end","interrupt"))).on(t,e)}));return this},Sa.transition=function(){for(var t,e,n,r=this.id,i=++La,s=this.namespace,o=[],a=0,l=this.length;a<l;a++){o.push(t=[]);for(var u,c=0,h=(u=this[a]).length;c<h;c++)(e=u[c])&&Ra(e,c,s,i,{time:(n=e[s][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ba(o,s,i)},s.svg.axis=function(){var t,e=s.scale.linear(),n=Na,r=6,i=6,o=3,l=[10],u=null;function c(a){a.each((function(){var a,c=s.select(this),h=this.__chart__||e,f=this.__chart__=e.copy(),p=null==u?f.ticks?f.ticks.apply(f,l):f.domain():u,d=null==t?f.tickFormat?f.tickFormat.apply(f,l):D:t,m=c.selectAll(".tick").data(p,f),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",At),_=s.transition(m.exit()).style("opacity",At).remove(),v=s.transition(m.order()).style("opacity",1),y=Math.max(r,0)+o,E=Eo(f),C=c.selectAll(".domain").data([0]),w=(C.enter().append("path").attr("class","domain"),s.transition(C));g.append("line"),g.append("text");var b,x,M,S,L=g.select("line"),A=v.select("line"),I=m.select("text").text(d),T=g.select("text"),R=v.select("text"),N="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=Da,b="x",M="y",x="x2",S="y2",I.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+E[0]+","+N*i+"V0H"+E[1]+"V"+N*i)):(a=Pa,b="y",M="x",x="y2",S="x2",I.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),w.attr("d","M"+N*i+","+E[0]+"H0V"+E[1]+"H"+N*i)),L.attr(S,N*r),T.attr(M,N*y),A.attr(x,0).attr(S,N*r),R.attr(b,0).attr(M,N*y),f.rangeBand){var k=f,P=k.rangeBand()/2;h=f=function(t){return k(t)+P}}else h.rangeBand?h=f:_.call(a,f,h);g.call(a,h,f),v.call(a,f,f)}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in ka?t+"":Na,c):n},c.ticks=function(){return arguments.length?(l=a(arguments),c):l},c.tickValues=function(t){return arguments.length?(u=t,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(o=+t,c):o},c.tickSubdivide=function(){return arguments.length&&c},c};var Na="bottom",ka={top:1,right:1,bottom:1,left:1};function Da(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Pa(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}s.svg.brush=function(){var t,e,n=j(f,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],a=[0,0],l=!0,u=!0,h=Fa[0];function f(t){t.each((function(){var t=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,D);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Oa[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var o,a=s.transition(t),l=s.transition(e);r&&(o=Eo(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),d(a)),i&&(o=Eo(i),l.attr("y",o[0]).attr("height",o[1]-o[0]),m(a)),p(a)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+o[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function m(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function g(){var h,g,_=this,v=s.select(s.event.target),y=n.of(_,arguments),E=s.select(_),C=v.datum(),w=!/^(n|s)$/.test(C)&&r,b=!/^(e|w)$/.test(C)&&i,x=v.classed("extent"),M=xt(_),S=s.mouse(_),L=s.select(c(_)).on("keydown.brush",T).on("keyup.brush",R);if(s.event.changedTouches?L.on("touchmove.brush",N).on("touchend.brush",D):L.on("mousemove.brush",N).on("mouseup.brush",D),E.interrupt().selectAll("*").interrupt(),x)S[0]=o[0]-S[0],S[1]=a[0]-S[1];else if(C){var A=+/w$/.test(C),I=+/^n/.test(C);g=[o[1-A]-S[0],a[1-I]-S[1]],S[0]=o[A],S[1]=a[I]}else s.event.altKey&&(h=S.slice());function T(){32==s.event.keyCode&&(x||(h=null,S[0]-=o[1],S[1]-=a[1],x=2),q())}function R(){32==s.event.keyCode&&2==x&&(S[0]+=o[1],S[1]+=a[1],x=0,q())}function N(){var t=s.mouse(_),e=!1;g&&(t[0]+=g[0],t[1]+=g[1]),x||(s.event.altKey?(h||(h=[(o[0]+o[1])/2,(a[0]+a[1])/2]),S[0]=o[+(t[0]<h[0])],S[1]=a[+(t[1]<h[1])]):h=null),w&&k(t,r,0)&&(d(E),e=!0),b&&k(t,i,1)&&(m(E),e=!0),e&&(p(E),y({type:"brush",mode:x?"move":"resize"}))}function k(n,r,i){var s,c,f=Eo(r),p=f[0],d=f[1],m=S[i],g=i?a:o,_=g[1]-g[0];if(x&&(p-=m,d-=_+m),s=(i?u:l)?Math.max(p,Math.min(d,n[i])):n[i],x?c=(s+=m)+_:(h&&(m=Math.max(p,Math.min(d,2*h[i]-s))),m<s?(c=s,s=m):c=m),g[0]!=s||g[1]!=c)return i?e=null:t=null,g[0]=s,g[1]=c,!0}function D(){N(),E.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),s.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),y({type:"brushend"})}E.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),N()}return f.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:o,y:a,i:t,j:e},l=this.__chart__||i;this.__chart__=i,xa?s.select(this).transition().each("start.brush",(function(){t=l.i,e=l.j,o=l.x,a=l.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=is(o,i.x),s=is(a,i.y);return t=e=null,function(t){o=i.x=n(t),a=i.y=s(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},f.x=function(t){return arguments.length?(h=Fa[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(h=Fa[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],u=!!t[1]):r?l=!!t:i&&(u=!!t),f):r&&i?[l,u]:r?l:i?u:null},f.extent=function(n){var s,l,u,c,h;return arguments.length?(r&&(s=n[0],l=n[1],i&&(s=s[0],l=l[0]),t=[s,l],r.invert&&(s=r(s),l=r(l)),l<s&&(h=s,s=l,l=h),s==o[0]&&l==o[1]||(o=[s,l])),i&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),e=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(h=u,u=c,c=h),u==a[0]&&c==a[1]||(a=[u,c])),f):(r&&(t?(s=t[0],l=t[1]):(s=o[0],l=o[1],r.invert&&(s=r.invert(s),l=r.invert(l)),l<s&&(h=s,s=l,l=h))),i&&(e?(u=e[0],c=e[1]):(u=a[0],c=a[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(h=u,u=c,c=h))),r&&i?[[s,u],[l,c]]:r?[s,l]:i&&[u,c])},f.clear=function(){return f.empty()||(o=[0,0],a=[0,0],t=e=null),f},f.empty=function(){return!!r&&o[0]==o[1]||!!i&&a[0]==a[1]},s.rebind(f,n,"on")};var Oa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Fa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ba=Oe.format=fn.timeFormat,Ha=Ba.utc,Ua=Ha("%Y-%m-%dT%H:%M:%S.%LZ");function qa(t){return t.toISOString()}function za(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=s.bisect(Va,r);return i==Va.length?[e.year,Ao(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/Va[i-1]<Va[i]/r?i-1:i]:[Wa,Ao(t,n)[2]]}return r.invert=function(e){return ja(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ja)},r.nice=function(t,e){var n=r.domain(),s=yo(n),o=null==t?i(s,10):"number"==typeof t&&i(s,t);function a(n){return!isNaN(n)&&!t.range(n,ja(+n+1),e).length}return o&&(t=o[0],e=o[1]),r.domain(wo(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=ja(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=ja(+e+1);return e}}:t))},r.ticks=function(t,e){var n=yo(r.domain()),s=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return s&&(t=s[0],e=s[1]),t.range(n[0],ja(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return za(t.copy(),e,n)},So(r,t)}function ja(t){return new Date(t)}Ba.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qa:Ua,qa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},qa.toString=Ua.toString,Oe.second=Ue((function(t){return new Fe(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),Oe.seconds=Oe.second.range,Oe.seconds.utc=Oe.second.utc.range,Oe.minute=Ue((function(t){return new Fe(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),Oe.minutes=Oe.minute.range,Oe.minutes.utc=Oe.minute.utc.range,Oe.hour=Ue((function(t){var e=t.getTimezoneOffset()/60;return new Fe(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),Oe.hours=Oe.hour.range,Oe.hours.utc=Oe.hour.utc.range,Oe.month=Ue((function(t){return(t=Oe.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),Oe.months=Oe.month.range,Oe.months.utc=Oe.month.utc.range;var Va=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ga=[[Oe.second,1],[Oe.second,5],[Oe.second,15],[Oe.second,30],[Oe.minute,1],[Oe.minute,5],[Oe.minute,15],[Oe.minute,30],[Oe.hour,1],[Oe.hour,3],[Oe.hour,6],[Oe.hour,12],[Oe.day,1],[Oe.day,2],[Oe.week,1],[Oe.month,1],[Oe.month,3],[Oe.year,1]],Ya=Ba.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",$n]]),Wa={range:function(t,e,n){return s.range(Math.ceil(t/n)*n,+e,n).map(ja)},floor:D,ceil:D};Ga.year=Oe.year,Oe.scale=function(){return za(s.scale.linear(),Ga,Ya)};var Xa=Ga.map((function(t){return[t[0].utc,t[1]]})),Ka=Ha.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",$n]]);function Ja(t){return JSON.parse(t.responseText)}function $a(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}Xa.year=Oe.year.utc,Oe.scale.utc=function(){return za(s.scale.linear(),Xa,Ka)},s.text=ye((function(t){return t.responseText})),s.json=function(t,e){return Ee(t,"application/json",Ja,e)},s.html=function(t,e){return Ee(t,"text/html",$a,e)},s.xml=ye((function(t){return t.responseXML})),this.d3=s,void 0===(i="function"==typeof(r=s)?r.call(e,n,e,t):r)||(t.exports=i)}()},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},,function(t,e,n){var r=n(7),i=n(8),s=n(9),o=n(10),a=n(11),l=n(12),u=n(13);u.alea=r,u.xor128=i,u.xorwow=s,u.xorshift7=o,u.xor4096=a,u.tychei=l,t.exports=u},function(t,e,n){!function(){function e(t){for(var e=0,i=t.length-1,s=void 0,o=void 0,a=void 0,l=r(e,i);;){if(i<=e)return t[l];if(i==e+1)return t[e]>t[i]&&n(t,e,i),t[l];for(t[s=r(e,i)]>t[i]&&n(t,s,i),t[e]>t[i]&&n(t,e,i),t[s]>t[e]&&n(t,s,e),n(t,s,e+1),o=e+1,a=i;;){do{o++}while(t[e]>t[o]);do{a--}while(t[a]>t[e]);if(a<o)break;n(t,o,a)}n(t,e,a),a<=l&&(e=o),a>=l&&(i=a-1)}}var n=function(t,e,n){var r;return r=[t[n],t[e]],t[e]=r[0],t[n]=r[1],r},r=function(t,e){return~~((t+e)/2)};t.exports?t.exports=e:window.median=e}()},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new o(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.alea=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xor128=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xorwow=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xorshift7=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,s=e.i;return e.w=r=r+1640531527|0,n=i[s+34&127],t=i[s=s+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[s]=n^t,e.i=s,n+(r^r>>>16)|0},function(t,e){var n,r,i,s,o,a=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),i=0,s=-32;s<l;++s)e&&(r^=e.charCodeAt((s+32)%e.length)),0===s&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(o=o+1640531527|0,i=0==(n=a[127&s]^=r+o)?i+1:0);for(i>=128&&(a[127&(e&&e.length||0)]=-1),i=127,s=512;s>0;--s)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;t.w=o,t.X=a,t.i=i}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xor4096=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){(function(t){var r;!function(t,i,s){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=l:n(1)&&n(3)?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.tychei=l}(0,t,n(1))}).call(this,n(2)(t))},function(t,e,n){var r;!function(i,s){var o,a=(0,eval)("this"),l=s.pow(256,6),u=s.pow(2,52),c=2*u;function h(t,e,n){var r=[],h=d(function t(e,n){var r,i=[],s=typeof e;if(n&&"object"==s)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==s?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(i)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(256):(t=new Uint8Array(256),(a.crypto||a.msCrypto).getRandomValues(t)),m(t)}catch(t){var e=a.navigator,n=e&&e.plugins;return[+new Date,a,n,a.screen,m(i)]}}():t,3),r),g=new f(r),_=function(){for(var t=g.g(6),e=l,n=0;t<u;)t=256*(t+n),e*=256,n=g.g(1);for(;t>=c;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|g.g(4)},_.quick=function(){return g.g(4)/4294967296},_.double=_,d(m(g.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&p(r,g),t.state=function(){return p(g,{})}),n?(s.random=t,e):t})(_,h,"global"in e?e.global:this==s,e.state)}function f(t){var e,n=t.length,r=this,i=0,s=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[s=255&s+t[i%n]+(e=o[i])],o[s]=e;(r.g=function(t){for(var e,n=0,i=r.i,s=r.j,o=r.S;t--;)e=o[i=255&i+1],n=256*n+o[255&(o[i]=o[s=255&s+e])+(o[s]=e)];return r.i=i,r.j=s,n})(256)}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(s.seedrandom=h,d(s.random(),i),t.exports){t.exports=h;try{o=n(14)}catch(t){}}else void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}([],Math)},function(t,e){},function(t,e,n){},function(t,e){
/**
 * material-design-lite - Material Design Components in CSS, JS and HTML
 * @version v1.3.0
 * @license Apache-2.0
 * @copyright 2015 Google, Inc.
 * @link https://github.com/google/material-design-lite
 */
!function(){"use strict";function t(t,e){if(t){if(e.element_.classList.contains(e.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var n=document.createElement("span");n.classList.add(e.CssClasses_.MDL_RIPPLE_CONTAINER),n.classList.add(e.CssClasses_.MDL_JS_RIPPLE_EFFECT);var r=document.createElement("span");r.classList.add(e.CssClasses_.MDL_RIPPLE),n.appendChild(r),t.appendChild(n)}t.addEventListener("click",(function(n){if("#"===t.getAttribute("href").charAt(0)){n.preventDefault();var r=t.href.split("#")[1],i=e.element_.querySelector("#"+r);e.resetTabState_(),e.resetPanelState_(),t.classList.add(e.CssClasses_.ACTIVE_CLASS),i.classList.add(e.CssClasses_.ACTIVE_CLASS)}}))}}function e(t,e,n,r){function i(){var i=t.href.split("#")[1],s=r.content_.querySelector("#"+i);r.resetTabState_(e),r.resetPanelState_(n),t.classList.add(r.CssClasses_.IS_ACTIVE),s.classList.add(r.CssClasses_.IS_ACTIVE)}if(r.tabBar_.classList.contains(r.CssClasses_.JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(r.CssClasses_.RIPPLE_CONTAINER),s.classList.add(r.CssClasses_.JS_RIPPLE_EFFECT);var o=document.createElement("span");o.classList.add(r.CssClasses_.RIPPLE),s.appendChild(o),t.appendChild(s)}r.tabBar_.classList.contains(r.CssClasses_.TAB_MANUAL_SWITCH)||t.addEventListener("click",(function(e){"#"===t.getAttribute("href").charAt(0)&&(e.preventDefault(),i())})),t.show=i}var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(n=function(){function t(t,e){for(var n=0;n<a.length;n++)if(a[n].className===t)return void 0!==e&&(a[n]=e),a[n];return!1}function e(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function n(t,n){return-1!==e(t).indexOf(n)}function r(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function i(e,n){if(void 0===e&&void 0===n)for(var r=0;r<a.length;r++)i(a[r].className,a[r].cssClass);else{var o=e;if(void 0===n){var l=t(o);l&&(n=l.cssClass)}for(var u=document.querySelectorAll("."+n),c=0;c<u.length;c++)s(u[c],o)}}function s(i,s){if(!("object"==typeof i&&i instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var o=r("mdl-componentupgrading",!0,!0);if(i.dispatchEvent(o),!o.defaultPrevented){var c=e(i),h=[];if(s)n(i,s)||h.push(t(s));else{var f=i.classList;a.forEach((function(t){f.contains(t.cssClass)&&-1===h.indexOf(t)&&!n(i,t.className)&&h.push(t)}))}for(var p,d=0,m=h.length;d<m;d++){if(!(p=h[d]))throw new Error("Unable to find a registered component for the given class.");c.push(p.className),i.setAttribute("data-upgraded",c.join(","));var g=new p.classConstructor(i);g[u]=p,l.push(g);for(var _=0,v=p.callbacks.length;_<v;_++)p.callbacks[_](i);p.widget&&(i[p.className]=g);var y=r("mdl-componentupgraded",!0,!1);i.dispatchEvent(y)}}}function o(t){if(t){var e=l.indexOf(t);l.splice(e,1);var n=t.element_.getAttribute("data-upgraded").split(","),i=n.indexOf(t[u].classAsString);n.splice(i,1),t.element_.setAttribute("data-upgraded",n.join(","));var s=r("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}var a=[],l=[],u="mdlComponentConfigInternal_";return{upgradeDom:i,upgradeElement:s,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(s(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var t=0;t<a.length;t++)i(a[t].className)},registerUpgradedCallback:function(e,n){var r=t(e);r&&r.callbacks.push(n)},register:function(e){var n=!0;void 0===e.widget&&void 0===e.widget||(n=e.widget||e.widget);var r={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:n,callbacks:[]};if(a.forEach((function(t){if(t.cssClass===r.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===r.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty(u))throw new Error("MDL component classes must not have "+u+" defined as a property.");t(e.classAsString,r)||a.push(r)},downgradeElements:function(t){var e=function(t){l.filter((function(e){return e.element_===t})).forEach(o)};if(t instanceof Array||t instanceof NodeList)for(var n=0;n<t.length;n++)e(t[n]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");e(t)}}}}()).ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})})),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var r=["webkit","moz"],i=0;i<r.length&&!window.requestAnimationFrame;++i){var s=r[i];window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var o=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(o+16,e);return setTimeout((function(){t(o=n)}),n-e)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var a=function(t){this.element_=t,this.init()};window.MaterialButton=a,a.prototype.Constant_={},a.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},a.prototype.blurHandler_=function(t){t&&this.element_.blur()},a.prototype.disable=function(){this.element_.disabled=!0},a.prototype.disable=a.prototype.disable,a.prototype.enable=function(){this.element_.disabled=!1},a.prototype.enable=a.prototype.enable,a.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},n.register({constructor:a,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var l=function(t){this.element_=t,this.init()};window.MaterialCheckbox=l,l.prototype.Constant_={TINY_TIMEOUT:.001},l.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},l.prototype.onChange_=function(t){this.updateClasses_()},l.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},l.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},l.prototype.onMouseUp_=function(t){this.blur_()},l.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},l.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},l.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},l.prototype.checkToggleState=l.prototype.checkToggleState,l.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},l.prototype.checkDisabled=l.prototype.checkDisabled,l.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},l.prototype.disable=l.prototype.disable,l.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},l.prototype.enable=l.prototype.enable,l.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},l.prototype.check=l.prototype.check,l.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},l.prototype.uncheck=l.prototype.uncheck,l.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("span");t.classList.add(this.CssClasses_.BOX_OUTLINE);var e=document.createElement("span");e.classList.add(this.CssClasses_.FOCUS_HELPER);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.TICK_OUTLINE),t.appendChild(n),this.element_.appendChild(e),this.element_.appendChild(t),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:l,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var u=function(t){this.element_=t,this.init()};window.MaterialIconToggle=u,u.prototype.Constant_={TINY_TIMEOUT:.001},u.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},u.prototype.onChange_=function(t){this.updateClasses_()},u.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},u.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},u.prototype.onMouseUp_=function(t){this.blur_()},u.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},u.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},u.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},u.prototype.checkToggleState=u.prototype.checkToggleState,u.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},u.prototype.checkDisabled=u.prototype.checkDisabled,u.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},u.prototype.disable=u.prototype.disable,u.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},u.prototype.enable=u.prototype.enable,u.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},u.prototype.check=u.prototype.check,u.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},u.prototype.uncheck=u.prototype.uncheck,u.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(t),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:u,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var c=function(t){this.element_=t,this.init()};window.MaterialMenu=c,c.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},c.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},c.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},c.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),this.container_=t;var e=document.createElement("div");e.classList.add(this.CssClasses_.OUTLINE),this.outline_=e,t.insertBefore(e,this.element_);var n=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),r=null;n&&((r=document.getElementById(n))&&(this.forElement_=r,r.addEventListener("click",this.handleForClick_.bind(this)),r.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var s=0;s<i.length;s++)i[s].addEventListener("click",this.boundItemClick_),i[s].tabIndex="-1",i[s].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=0;s<i.length;s++){var o=i[s],a=document.createElement("span");a.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),a.appendChild(l),o.appendChild(a),o.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),t.classList.add(this.CssClasses_.IS_UPGRADED)}},c.prototype.handleForClick_=function(t){if(this.element_&&this.forElement_){var e=this.forElement_.getBoundingClientRect(),n=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=n.right-e.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=n.bottom-e.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=n.right-e.right+"px",this.container_.style.bottom=n.bottom-e.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(t)},c.prototype.handleForKeyboardEvent_=function(t){if(this.element_&&this.container_&&this.forElement_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(t.keyCode===this.Keycodes_.UP_ARROW?(t.preventDefault(),e[e.length-1].focus()):t.keyCode===this.Keycodes_.DOWN_ARROW&&(t.preventDefault(),e[0].focus()))}},c.prototype.handleItemKeyboardEvent_=function(t){if(this.element_&&this.container_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var n=Array.prototype.slice.call(e).indexOf(t.target);if(t.keyCode===this.Keycodes_.UP_ARROW)t.preventDefault(),n>0?e[n-1].focus():e[e.length-1].focus();else if(t.keyCode===this.Keycodes_.DOWN_ARROW)t.preventDefault(),e.length>n+1?e[n+1].focus():e[0].focus();else if(t.keyCode===this.Keycodes_.SPACE||t.keyCode===this.Keycodes_.ENTER){t.preventDefault();var r=new MouseEvent("mousedown");t.target.dispatchEvent(r),r=new MouseEvent("mouseup"),t.target.dispatchEvent(r),t.target.click()}else t.keyCode===this.Keycodes_.ESCAPE&&(t.preventDefault(),this.hide())}}},c.prototype.handleItemClick_=function(t){t.target.hasAttribute("disabled")?t.stopPropagation():(this.closing_=!0,window.setTimeout(function(t){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},c.prototype.applyClip_=function(t,e){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+e+"px 0 "+e+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+t+"px 0 "+t+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+t+"px "+e+"px "+t+"px "+e+"px)":this.element_.style.clip=""},c.prototype.removeAnimationEndListener_=function(t){t.target.classList.remove(c.prototype.CssClasses_.IS_ANIMATING)},c.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},c.prototype.show=function(t){if(this.element_&&this.container_&&this.outline_){var e=this.element_.getBoundingClientRect().height,n=this.element_.getBoundingClientRect().width;this.container_.style.width=n+"px",this.container_.style.height=e+"px",this.outline_.style.width=n+"px",this.outline_.style.height=e+"px";for(var r=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),s=0;s<i.length;s++){var o;o=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(e-i[s].offsetTop-i[s].offsetHeight)/e*r+"s":i[s].offsetTop/e*r+"s",i[s].style.transitionDelay=o}this.applyClip_(e,n),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+n+"px "+e+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var a=function(e){e===t||this.closing_||e.target.parentNode===this.element_||(document.removeEventListener("click",a),this.hide())}.bind(this);document.addEventListener("click",a)}},c.prototype.show=c.prototype.show,c.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),e=0;e<t.length;e++)t[e].style.removeProperty("transition-delay");var n=this.element_.getBoundingClientRect(),r=n.height,i=n.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(r,i),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},c.prototype.hide=c.prototype.hide,c.prototype.toggle=function(t){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(t)},c.prototype.toggle=c.prototype.toggle,n.register({constructor:c,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var h=function(t){this.element_=t,this.init()};window.MaterialProgress=h,h.prototype.Constant_={},h.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},h.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},h.prototype.setProgress=h.prototype.setProgress,h.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},h.prototype.setBuffer=h.prototype.setBuffer,h.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},n.register({constructor:h,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var f=function(t){this.element_=t,this.init()};window.MaterialRadio=f,f.prototype.Constant_={TINY_TIMEOUT:.001},f.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},f.prototype.onChange_=function(t){for(var e=document.getElementsByClassName(this.CssClasses_.JS_RADIO),n=0;n<e.length;n++){e[n].querySelector("."+this.CssClasses_.RADIO_BTN).getAttribute("name")===this.btnElement_.getAttribute("name")&&void 0!==e[n].MaterialRadio&&e[n].MaterialRadio.updateClasses_()}},f.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},f.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},f.prototype.onMouseup_=function(t){this.blur_()},f.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},f.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},f.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},f.prototype.checkDisabled=f.prototype.checkDisabled,f.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},f.prototype.checkToggleState=f.prototype.checkToggleState,f.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},f.prototype.disable=f.prototype.disable,f.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},f.prototype.enable=f.prototype.enable,f.prototype.check=function(){this.btnElement_.checked=!0,this.onChange_(null)},f.prototype.check=f.prototype.check,f.prototype.uncheck=function(){this.btnElement_.checked=!1,this.onChange_(null)},f.prototype.uncheck=f.prototype.uncheck,f.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var e,n=document.createElement("span");if(n.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(t),this.element_.appendChild(n),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),(e=document.createElement("span")).classList.add(this.CssClasses_.RIPPLE_CONTAINER),e.classList.add(this.CssClasses_.RIPPLE_EFFECT),e.classList.add(this.CssClasses_.RIPPLE_CENTER),e.addEventListener("mouseup",this.boundMouseUpHandler_);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),e.appendChild(r),this.element_.appendChild(e)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:f,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var p=function(t){this.element_=t,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=p,p.prototype.Constant_={},p.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},p.prototype.onInput_=function(t){this.updateValueStyles_()},p.prototype.onChange_=function(t){this.updateValueStyles_()},p.prototype.onMouseUp_=function(t){t.target.blur()},p.prototype.onContainerMouseDown_=function(t){if(t.target===this.element_.parentElement){t.preventDefault();var e=new MouseEvent("mousedown",{target:t.target,buttons:t.buttons,clientX:t.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(e)}},p.prototype.updateValueStyles_=function(){var t=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===t?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=t,this.backgroundLower_.style.webkitFlex=t,this.backgroundUpper_.style.flex=1-t,this.backgroundUpper_.style.webkitFlex=1-t)},p.prototype.disable=function(){this.element_.disabled=!0},p.prototype.disable=p.prototype.disable,p.prototype.enable=function(){this.element_.disabled=!1},p.prototype.enable=p.prototype.enable,p.prototype.change=function(t){void 0!==t&&(this.element_.value=t),this.updateValueStyles_()},p.prototype.change=p.prototype.change,p.prototype.init=function(){if(this.element_){if(this.isIE_){var t=document.createElement("div");t.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_)}else{var e=document.createElement("div");e.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);var n=document.createElement("div");n.classList.add(this.CssClasses_.BACKGROUND_FLEX),e.appendChild(n),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),n.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),n.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:p,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var d=function(t){if(this.element_=t,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=d,d.prototype.Constant_={ANIMATION_LENGTH:250},d.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},d.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},d.prototype.showSnackbar=function(t){if(void 0===t)throw new Error("Please provide a data object with at least a message to display.");if(void 0===t.message)throw new Error("Please provide a message to be displayed.");if(t.actionHandler&&!t.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(t):(this.active=!0,this.message_=t.message,t.timeout?this.timeout_=t.timeout:this.timeout_=2750,t.actionHandler&&(this.actionHandler_=t.actionHandler),t.actionText&&(this.actionText_=t.actionText),this.displaySnackbar_())},d.prototype.showSnackbar=d.prototype.showSnackbar,d.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},d.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},d.prototype.setActionHidden_=function(t){t?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},n.register({constructor:d,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var m=function(t){this.element_=t,this.init()};window.MaterialSpinner=m,m.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},m.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},m.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,r,i],o=0;o<s.length;o++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[o].appendChild(a)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},m.prototype.createLayer=m.prototype.createLayer,m.prototype.stop=function(){this.element_.classList.remove("is-active")},m.prototype.stop=m.prototype.stop,m.prototype.start=function(){this.element_.classList.add("is-active")},m.prototype.start=m.prototype.start,m.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},n.register({constructor:m,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var g=function(t){this.element_=t,this.init()};window.MaterialSwitch=g,g.prototype.Constant_={TINY_TIMEOUT:.001},g.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},g.prototype.onChange_=function(t){this.updateClasses_()},g.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},g.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},g.prototype.onMouseUp_=function(t){this.blur_()},g.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},g.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},g.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},g.prototype.checkDisabled=g.prototype.checkDisabled,g.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},g.prototype.checkToggleState=g.prototype.checkToggleState,g.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},g.prototype.disable=g.prototype.disable,g.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},g.prototype.enable=g.prototype.enable,g.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},g.prototype.on=g.prototype.on,g.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},g.prototype.off=g.prototype.off,g.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.FOCUS_HELPER),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:g,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var _=function(t){this.element_=t,this.init()};window.MaterialTabs=_,_.prototype.Constant_={},_.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},_.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var e=0;e<this.tabs_.length;e++)new t(this.tabs_[e],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},_.prototype.resetTabState_=function(){for(var t=0;t<this.tabs_.length;t++)this.tabs_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},_.prototype.resetPanelState_=function(){for(var t=0;t<this.panels_.length;t++)this.panels_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},_.prototype.init=function(){this.element_&&this.initTabs_()},n.register({constructor:_,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var v=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=v,v.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},v.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},v.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},v.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},v.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},v.prototype.onReset_=function(t){this.updateClasses_()},v.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},v.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},v.prototype.checkDisabled=v.prototype.checkDisabled,v.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},v.prototype.checkFocus=v.prototype.checkFocus,v.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},v.prototype.checkValidity=v.prototype.checkValidity,v.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},v.prototype.checkDirty=v.prototype.checkDirty,v.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},v.prototype.disable=v.prototype.disable,v.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},v.prototype.enable=v.prototype.enable,v.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},v.prototype.change=v.prototype.change,v.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},n.register({constructor:v,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var y=function(t){this.element_=t,this.init()};window.MaterialTooltip=y,y.prototype.Constant_={},y.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},y.prototype.handleMouseEnter_=function(t){var e=t.target.getBoundingClientRect(),n=e.left+e.width/2,r=e.top+e.height/2,i=this.element_.offsetWidth/2*-1,s=this.element_.offsetHeight/2*-1;this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(n=e.width/2,r+s<0?(this.element_.style.top="0",this.element_.style.marginTop="0"):(this.element_.style.top=r+"px",this.element_.style.marginTop=s+"px")):n+i<0?(this.element_.style.left="0",this.element_.style.marginLeft="0"):(this.element_.style.left=n+"px",this.element_.style.marginLeft=i+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=e.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=e.left+e.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=e.left-this.element_.offsetWidth-10+"px":this.element_.style.top=e.top+e.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},y.prototype.hideTooltip_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.init=function(){if(this.element_){var t=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for");t&&(this.forElement_=document.getElementById(t)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveAndScrollHandler=this.hideTooltip_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveAndScrollHandler,!1),window.addEventListener("scroll",this.boundMouseLeaveAndScrollHandler,!0),window.addEventListener("touchstart",this.boundMouseLeaveAndScrollHandler))}},n.register({constructor:y,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var E=function(t){this.element_=t,this.init()};window.MaterialLayout=E,E.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},E.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},E.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},E.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",TAB_MANUAL_SWITCH:"mdl-layout__tab-manual-switch",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},E.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var t=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},E.prototype.keyboardEventHandler_=function(t){t.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},E.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},E.prototype.drawerToggleHandler_=function(t){if(t&&"keydown"===t.type){if(t.keyCode!==this.Keycodes_.SPACE&&t.keyCode!==this.Keycodes_.ENTER)return;t.preventDefault()}this.toggleDrawer()},E.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},E.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},E.prototype.resetTabState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},E.prototype.resetPanelState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},E.prototype.toggleDrawer=function(){var t=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"))},E.prototype.toggleDrawer=E.prototype.toggleDrawer,E.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER);var n=this.element_.querySelector(":focus");this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),n&&n.focus();for(var r=this.element_.childNodes,i=r.length,s=0;s<i;s++){var o=r[s];o.classList&&o.classList.contains(this.CssClasses_.HEADER)&&(this.header_=o),o.classList&&o.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=o),o.classList&&o.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=o)}window.addEventListener("pageshow",function(t){t.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var a=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?a=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(a=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(a=this.Mode_.SCROLL,t.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),a===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.SEAMED||a===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var l=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!l){(l=document.createElement("div")).setAttribute("aria-expanded","false"),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.classList.add(this.CssClasses_.DRAWER_BTN);var u=document.createElement("i");u.classList.add(this.CssClasses_.ICON),u.innerHTML=this.Constant_.MENU_ICON,l.appendChild(u)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?l.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&l.classList.add(this.CssClasses_.ON_SMALL_SCREEN),l.addEventListener("click",this.drawerToggleHandler_.bind(this)),l.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(l,this.header_.firstChild):this.element_.insertBefore(l,this.content_);var c=document.createElement("div");c.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(c),c.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=c,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(h,this.tabBar_),this.header_.removeChild(this.tabBar_);var f=document.createElement("div");f.classList.add(this.CssClasses_.TAB_BAR_BUTTON),f.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var p=document.createElement("i");p.classList.add(this.CssClasses_.ICON),p.textContent=this.Constant_.CHEVRON_LEFT,f.appendChild(p),f.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var d=document.createElement("div");d.classList.add(this.CssClasses_.TAB_BAR_BUTTON),d.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var m=document.createElement("i");m.classList.add(this.CssClasses_.ICON),m.textContent=this.Constant_.CHEVRON_RIGHT,d.appendChild(m),d.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),h.appendChild(f),h.appendChild(this.tabBar_),h.appendChild(d);var g=function(){this.tabBar_.scrollLeft>0?f.classList.add(this.CssClasses_.IS_ACTIVE):f.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?d.classList.add(this.CssClasses_.IS_ACTIVE):d.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",g),g();var _=function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout(function(){g(),this.resizeTimeoutId_=null}.bind(this),this.Constant_.RESIZE_TIMEOUT)}.bind(this);window.addEventListener("resize",_),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var v=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),y=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),E=0;E<v.length;E++)new e(v[E],v,y,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=e,n.register({constructor:E,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var C=function(t){this.element_=t,this.init()};window.MaterialDataTable=C,C.prototype.Constant_={},C.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},C.prototype.selectRow_=function(t,e,n){return e?function(){t.checked?e.classList.add(this.CssClasses_.IS_SELECTED):e.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):n?function(){var e;if(t.checked)for(e=0;e<n.length;e++)n[e].querySelector("td").querySelector(".mdl-checkbox").MaterialCheckbox.check(),n[e].classList.add(this.CssClasses_.IS_SELECTED);else for(e=0;e<n.length;e++)n[e].querySelector("td").querySelector(".mdl-checkbox").MaterialCheckbox.uncheck(),n[e].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},C.prototype.createCheckbox_=function(t,e){var r=document.createElement("label"),i=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];r.className=i.join(" ");var s=document.createElement("input");return s.type="checkbox",s.classList.add("mdl-checkbox__input"),t?(s.checked=t.classList.contains(this.CssClasses_.IS_SELECTED),s.addEventListener("change",this.selectRow_(s,t))):e&&s.addEventListener("change",this.selectRow_(s,null,e)),r.appendChild(s),n.upgradeElement(r,"MaterialCheckbox"),r},C.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("th"),e=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),n=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),r=e.concat(n);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var i=document.createElement("th"),s=this.createCheckbox_(null,r);i.appendChild(s),t.parentElement.insertBefore(i,t);for(var o=0;o<r.length;o++){var a=r[o].querySelector("td");if(a){var l=document.createElement("td");if("TBODY"===r[o].parentNode.nodeName.toUpperCase()){var u=this.createCheckbox_(r[o]);l.appendChild(u)}r[o].insertBefore(l,a)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},n.register({constructor:C,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var w=function(t){this.element_=t,this.init()};window.MaterialRipple=w,w.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},w.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},w.prototype.downHandler_=function(t){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var e=this.element_.getBoundingClientRect();this.boundHeight=e.height,this.boundWidth=e.width,this.rippleSize_=2*Math.sqrt(e.width*e.width+e.height*e.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===t.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{if("touchstart"===t.type&&(this.ignoringMouseDown_=!0),this.getFrameCount()>0)return;this.setFrameCount(1);var n,r,i=t.currentTarget.getBoundingClientRect();if(0===t.clientX&&0===t.clientY)n=Math.round(i.width/2),r=Math.round(i.height/2);else{var s=void 0!==t.clientX?t.clientX:t.touches[0].clientX,o=void 0!==t.clientY?t.clientY:t.touches[0].clientY;n=Math.round(s-i.left),r=Math.round(o-i.top)}this.setRippleXY(n,r),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},w.prototype.upHandler_=function(t){t&&2!==t.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},w.prototype.init=function(){if(this.element_){var t=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(t){this.frameCount_=t},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(t,e){this.x_=t,this.y_=e},this.setRippleStyles=function(e){if(null!==this.rippleElement_){var n,r,i="translate("+this.x_+"px, "+this.y_+"px)";e?(r=this.Constant_.INITIAL_SCALE,this.Constant_.INITIAL_SIZE):(r=this.Constant_.FINAL_SCALE,this.rippleSize_+"px",t&&(i="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),n="translate(-50%, -50%) "+i+r,this.rippleElement_.style.webkitTransform=n,this.rippleElement_.style.msTransform=n,this.rippleElement_.style.transform=n,e?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},n.register({constructor:w,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}()},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),i=function(){function t(t,e,n,i,s,o){this.settings={showAxes:!1,noSvg:!1},this.numSamples=e;var a=t,l=o.showAxes?20:0;if(null!=o)for(var u in o)this.settings[u]=o[u];this.xScale=r.scale.linear().domain(n).range([0,t-2*l]),this.yScale=r.scale.linear().domain(i).range([a-2*l,0]);var c=r.scale.linear().domain([0,.5,1]).range(["#f59322","#e8eaeb","#0877bd"]).clamp(!0),h=r.range(0,1+1e-9,1/30).map((function(t){return c(t)}));if(this.color=r.scale.quantize().domain([-1,1]).range(h),s=s.append("div").style({width:t+"px",height:a+"px",position:"relative",top:"-"+l+"px",left:"-"+l+"px"}),this.canvas=s.append("canvas").attr("width",e).attr("height",e).style("width",t-2*l+"px").style("height",a-2*l+"px").style("position","absolute").style("top",l+"px").style("left",l+"px"),this.settings.noSvg||(this.svg=s.append("svg").attr({width:t,height:a}).style({position:"absolute",left:"0",top:"0"}).append("g").attr("transform","translate("+l+", "+l+")"),this.svg.append("g").attr("class","train"),this.svg.append("g").attr("class","test")),this.settings.showAxes){var f=r.svg.axis().scale(this.xScale).orient("bottom"),p=r.svg.axis().scale(this.yScale).orient("right");this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(a-2*l)+")").call(f),this.svg.append("g").attr("class","y axis").attr("transform","translate("+(t-2*l)+",0)").call(p)}}return t.prototype.updateTestPoints=function(t){if(this.settings.noSvg)throw Error("Can't add points since noSvg=true");this.updateCircles(this.svg.select("g.test"),t)},t.prototype.updatePoints=function(t){if(this.settings.noSvg)throw Error("Can't add points since noSvg=true");this.updateCircles(this.svg.select("g.train"),t)},t.prototype.clearBackground=function(){var t=this.canvas.node();t.getContext("2d").clearRect(0,0,t.width,t.height)},t.prototype.updateBackground=function(t,e){if(t.length){var n=t.reduce((function(t,e){return t.concat(e)}),[]),i=r.scale.linear().domain([r.min(n),r.max(n)]).range([-1,1]),s=t[0].length,o=t.length;if(s!==this.numSamples||o!==this.numSamples)throw new Error("The provided data matrix must be of size numSamples X numSamples");for(var a=this.canvas.node().getContext("2d"),l=a.createImageData(s,o),u=0,c=-1;u<o;++u)for(var h=0;h<s;++h){var f=t?i(t[h][u]):0;e&&(f=f>=0?1:-1);var p=r.rgb(this.color(f));l.data[++c]=p.r,l.data[++c]=p.g,l.data[++c]=p.b,l.data[++c]=160}a.putImageData(l,0,0)}else this.clearBackground()},t.prototype.updateCircles=function(t,e){var n=this,i=this.xScale.domain(),s=this.yScale.domain();e=e.filter((function(t){return t.x>=i[0]&&t.x<=i[1]&&t.y>=s[0]&&t.y<=s[1]}));var o=t.selectAll("circle").data(e);o.enter().append("circle").attr("r",4),o.attr({cx:function(t){return n.xScale(t.x)},cy:function(t){return n.yScale(t.y)}}).style("fill",(function(t){return n.color(t.label)})),o.exit().remove();var a=r.select("#hovercard");o.on("mouseenter",(function(t){var e=r.select("#main-heatmap canvas"),n=r.mouse(e.node());a.style({left:n[0]+20+"px",top:n[1]+"px",display:"block"}),r.select("#hovercard.ui-nvotes #first-class.value").text(t.voteCounts?t.voteCounts[0]:"0"),r.select("#hovercard.ui-nvotes #second-class.value").text(t.voteCounts?t.voteCounts[1]:"0")})).on("mouseleave",(function(){a.style("display","none")}))},t}();(function(){function t(t,e,n){this.inputLinks=[],this.bias=.1,this.outputs=[],this.outputDer=0,this.inputDer=0,this.accInputDer=0,this.numAccumulatedDers=0,this.id=t,this.activation=e,n&&(this.bias=0)}t.prototype.updateOutput=function(){this.totalInput=this.bias;for(var t=0;t<this.inputLinks.length;t++){var e=this.inputLinks[t];this.totalInput+=e.weight*e.source.output}return this.output=this.activation.output(this.totalInput),this.output}})(),function(){function t(){}t.SQUARE={error:function(t,e){return.5*Math.pow(t-e,2)},der:function(t,e){return t-e}}}();Math.tanh=Math.tanh||function(t){if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)};var s=function(){function t(){}return t.TANH={output:function(t){return Math.tanh(t)},der:function(e){var n=t.TANH.output(e);return 1-n*n}},t.RELU={output:function(t){return Math.max(0,t)},der:function(t){return t<=0?0:1}},t.SIGMOID={output:function(t){return 1/(1+Math.exp(-t))},der:function(e){var n=t.SIGMOID.output(e);return n*(1-n)}},t.LINEAR={output:function(t){return t},der:function(t){return 1}},t}(),o=function(){function t(){}return t.L1={output:function(t){return Math.abs(t)},der:function(t){return t<0?-1:t>0?1:0}},t.L2={output:function(t){return.5*t*t},der:function(t){return t}},t}();function a(t,e){var n=[];function r(t,e){return h(t,e)<2.5?1:-1}for(var i=0;i<t/2;i++){var s=u(0,2.5),o=u(0,2*Math.PI),a=s*Math.sin(o),l=s*Math.cos(o),c=r({x:a+u(-5,5)*e,y:l+u(-5,5)*e},{x:0,y:0});n.push({x:a,y:l,label:c})}for(i=0;i<t/2;i++){s=u(3.5,5),o=u(0,2*Math.PI),a=s*Math.sin(o),l=s*Math.cos(o),c=r({x:a+u(-5,5)*e,y:l+u(-5,5)*e},{x:0,y:0});n.push({x:a,y:l,label:c})}return n}function l(t,e){for(var n=r.scale.linear().domain([-10,10]).range([-1,1]),i=function(t,e){return n(t+e)},s=[],o=0;o<t;o++){var a=u(-6,6),l=u(-6,6),c=i(a+u(-6,6)*e,l+u(-6,6)*e);s.push({x:a,y:l,label:c})}return s}function u(t,e){return Math.random()*(e-t)+t}function c(t,e){var n,r,i;void 0===t&&(t=0),void 0===e&&(e=1);do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(i>1);var s=Math.sqrt(-2*Math.log(i)/i)*n;return t+Math.sqrt(e)*s}function h(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}n(5);var f,p,d={relu:s.RELU,tanh:s.TANH,sigmoid:s.SIGMOID,linear:s.LINEAR},m={none:null,L1:o.L1,L2:o.L2},g={circle:a,xor:function(t,e){for(var n,r=[],i=0;i<t;i++){var s=u(-5,5);s+=s>0?.3:-.3;var o=u(-5,5);o+=o>0?.3:-.3;var a=u(-5,5)*e,l=u(-5,5)*e,c=(n={x:s+a,y:o+l}).x*n.y>=0?1:-1;r.push({x:s,y:o,label:c})}return r},gauss:function(t,e){var n=[],i=r.scale.linear().domain([0,.5]).range([.5,4])(e);function s(e,r,s){for(var o=0;o<t/2;o++){var a=c(e,i),l=c(r,i);n.push({x:a,y:l,label:s})}}return s(2,2,1),s(-2,-2,-1),n},spiral:function(t,e){var n=[],r=t/2;function i(t,i){for(var s=0;s<r;s++){var o=s/r*5,a=1.75*s/r*2*Math.PI+t,l=o*Math.sin(a)+u(-1,1)*e,c=o*Math.cos(a)+u(-1,1)*e;n.push({x:l,y:c,label:i})}}return i(0,1),i(Math.PI,-1),n}},_={"reg-plane":l,"reg-gauss":function(t,e){var n=[],i=r.scale.linear().domain([0,2]).range([1,0]).clamp(!0),s=[[-4,2.5,1],[0,2.5,-1],[4,2.5,1],[-4,-2.5,-1],[0,-2.5,1],[4,-2.5,-1]];function o(t,e){var n=0;return s.forEach((function(r){var s=r[0],o=r[1],a=r[2]*i(h({x:t,y:e},{x:s,y:o}));Math.abs(a)>Math.abs(n)&&(n=a)})),n}for(var a=0;a<t;a++){var l=u(-6,6),c=u(-6,6),f=o(l+u(-6,6)*e,c+u(-6,6)*e);n.push({x:l,y:c,label:f})}return n}};function v(t,e){for(var n in t)if(t[n]===e)return n}function y(t,e){return t.substr(-e.length)===e}function E(t){var e=[];for(var n in t)y(n,"_hide")&&e.push(n);return e}!function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.ARRAY_NUMBER=2]="ARRAY_NUMBER",t[t.ARRAY_STRING=3]="ARRAY_STRING",t[t.BOOLEAN=4]="BOOLEAN",t[t.OBJECT=5]="OBJECT"}(f||(f={})),function(t){t[t.CLASSIFICATION=0]="CLASSIFICATION",t[t.REGRESSION=1]="REGRESSION"}(p||(p={}));var C={classification:p.CLASSIFICATION,regression:p.REGRESSION},w=function(){function t(){this.learningRate=.03,this.regularizationRate=0,this.showTestData=!1,this.noise=0,this.batchSize=10,this.discretize=!1,this.tutorial=null,this.percTrainData=50,this.activation=s.TANH,this.regularization=null,this.problem=p.CLASSIFICATION,this.initZero=!1,this.hideText=!1,this.collectStats=!1,this.numHiddenLayers=1,this.hiddenLayerControls=[],this.networkShape=[4,2],this.x=!0,this.y=!0,this.xTimesY=!1,this.xSquared=!1,this.ySquared=!1,this.cosX=!1,this.sinX=!1,this.cosY=!1,this.sinY=!1,this.dataset=a,this.regDataset=l,this.percSamples=80,this.nTrees=100,this.maxDepth=5,this.maxFeatures=2}return t.deserializeState=function(){for(var e={},n=0,r=window.location.hash.slice(1).split("&");n<r.length;n++){var i=r[n].split("="),s=i[0],o=i[1];e[s]=o}var a=new t;function l(t){return t in e&&null!=e[t]&&""!==e[t].trim()}function u(t){return""===t.trim()?[]:t.split(",")}return t.PROPS.forEach((function(t){var n=t.name,r=t.type,i=t.keyMap;switch(r){case f.OBJECT:if(null==i)throw Error("A key-value map must be provided for state variables of type Object");l(n)&&e[n]in i&&(a[n]=i[e[n]]);break;case f.NUMBER:l(n)&&(a[n]=+e[n]);break;case f.STRING:l(n)&&(a[n]=e[n]);break;case f.BOOLEAN:l(n)&&(a[n]="false"!==e[n]);break;case f.ARRAY_NUMBER:n in e&&(a[n]=u(e[n]).map(Number));break;case f.ARRAY_STRING:n in e&&(a[n]=u(e[n]));break;default:throw Error("Encountered an unknown type for a state variable")}})),E(e).forEach((function(t){a[t]="true"===e[t]})),a.numHiddenLayers=a.networkShape.length,null==a.seed&&(a.seed=Math.random().toFixed(5)),Math.seedrandom(a.seed),a},t.prototype.serialize=function(){var e=this,n=[];t.PROPS.forEach((function(t){var r=t.name,i=t.type,s=t.keyMap,o=e[r];null!=o&&(i===f.OBJECT?o=v(s,o):i!==f.ARRAY_NUMBER&&i!==f.ARRAY_STRING||(o=o.join(",")),n.push(r+"="+o))})),E(this).forEach((function(t){n.push(t+"="+e[t])})),window.location.hash=n.join("&")},t.prototype.getHiddenProps=function(){var t=[];for(var e in this)y(e,"_hide")&&"true"===String(this[e])&&t.push(e.replace("_hide",""));return t},t.prototype.setHideProperty=function(t,e){this[t+"_hide"]=e},t.PROPS=[{name:"activation",type:f.OBJECT,keyMap:d},{name:"regularization",type:f.OBJECT,keyMap:m},{name:"batchSize",type:f.NUMBER},{name:"dataset",type:f.OBJECT,keyMap:g},{name:"regDataset",type:f.OBJECT,keyMap:_},{name:"learningRate",type:f.NUMBER},{name:"regularizationRate",type:f.NUMBER},{name:"noise",type:f.NUMBER},{name:"networkShape",type:f.ARRAY_NUMBER},{name:"seed",type:f.STRING},{name:"showTestData",type:f.BOOLEAN},{name:"discretize",type:f.BOOLEAN},{name:"percTrainData",type:f.NUMBER},{name:"x",type:f.BOOLEAN},{name:"y",type:f.BOOLEAN},{name:"xTimesY",type:f.BOOLEAN},{name:"xSquared",type:f.BOOLEAN},{name:"ySquared",type:f.BOOLEAN},{name:"cosX",type:f.BOOLEAN},{name:"sinX",type:f.BOOLEAN},{name:"cosY",type:f.BOOLEAN},{name:"sinY",type:f.BOOLEAN},{name:"collectStats",type:f.BOOLEAN},{name:"tutorial",type:f.STRING},{name:"problem",type:f.OBJECT,keyMap:C},{name:"initZero",type:f.BOOLEAN},{name:"hideText",type:f.BOOLEAN},{name:"percSamples",type:f.NUMBER},{name:"nTrees",type:f.NUMBER},{name:"maxDepth",type:f.NUMBER},{name:"maxFeatures",type:f.NUMBER}],t}();const b=Object.prototype.toString;function x(t){return b.call(t).endsWith("Array]")}var M=function(t){if(!x(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=0,n=0;n<t.length;n++)e+=t[n];return e};var S=function(t){return M(t)/t.length},L=n(6),A=n.n(L);var I=function(t){if(!x(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");return A()(t.slice())};var T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!x(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,i=e.toIndex,s=void 0===i?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[r],a=r+1;a<s;a++)t[a]>o&&(o=t[a]);return o};var R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!x(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,i=e.toIndex,s=void 0===i?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=r||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[r],a=r+1;a<s;a++)t[a]<o&&(o=t[a]);return o};var N=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!x(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!x(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=R(t),i=T(t);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=n.min,o=void 0===s?n.autoMinMax?r:0:s,a=n.max,l=void 0===a?n.autoMinMax?i:1:a;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(i-r),c=0;c<t.length;c++)e[c]=(t[c]-r)*u+o;return e};const k=" ".repeat(2),D=" ".repeat(4);function P(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8}=e;return`${t.constructor.name} {\n${k}[\n${D}${function(t,e,n,r){const{rows:i,columns:s}=t,o=Math.min(i,e),a=Math.min(s,n),l=[];for(let e=0;e<o;e++){let n=[];for(let i=0;i<a;i++)n.push(O(t.get(e,i),r));l.push(""+n.join(" "))}a!==s&&(l[l.length-1]+=` ... ${s-n} more columns`);o!==i&&l.push(`... ${i-e} more rows`);return l.join("\n"+D)}(t,n,r,i)}\n${k}]\n${k}rows: ${t.rows}\n${k}columns: ${t.columns}\n}`}function O(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");const r=t.toPrecision(e-2);if(r.length<=e)return r;const i=t.toExponential(e-2),s=i.indexOf("e"),o=i.slice(s);return i.slice(0,e-o.length)+o}function F(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function B(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function H(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function U(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function q(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some(e=>e<0||e>=t.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function z(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some(e=>e<0||e>=t.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function j(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(G("startRow",e),G("endRow",n),G("startColumn",r),G("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function V(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function G(t,e){if("number"!=typeof e)throw new TypeError(t+" must be a number")}class Y{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let r=new X(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)r.set(i,t,n[i*e+t]);return r}static rowVector(t){let e=new X(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new X(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new X(t,e)}static ones(t,e){return new X(t,e).fill(1)}static rand(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new X(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)i.set(n,t,r());return i}static randInt(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:s=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let o=i-r,a=new X(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=r+Math.round(s()*o);a.set(n,t,e)}return a}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<r;t++)i.set(t,t,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),s=this.zeros(e,n);for(let e=0;e<i;e++)s.set(e,e,t[e]);return s}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new X(n,r);for(let s=0;s<n;s++)for(let n=0;n<r;n++)i.set(s,n,Math.min(t.get(s,n),e.get(s,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let s=0;s<n;s++)for(let n=0;n<r;n++)i.set(s,n,Math.max(t.get(s,n),e.get(s,n)));return i}static checkMatrix(t){return Y.isMatrix(t)?t:new X(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let s=n+1;s<t.columns;s++)t.set(r,s,t.get(r,s)-t.get(e,s)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;for(;r>=0;)if(0===t.maxRow(r))r--;else{let i=0,s=!1;for(;i<n&&!1===s;)1===t.get(r,i)?s=!0:i++;for(let n=0;n<r;n++){let s=t.get(n,i);for(let o=i;o<e;o++){let e=t.get(n,o)-s*t.get(r,o);t.set(n,o,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new X(this.rows*e,this.columns*n);for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.setSubMatrix(this,this.rows*t,this.columns*e);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){F(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return X.rowVector(this.getRow(t))}setRow(t,e){F(this,t),e=H(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){F(this,t),F(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){B(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return X.columnVector(this.getColumn(t))}setColumn(t,e){B(this,t),e=U(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){B(this,t),B(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=H(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=H(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=H(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=H(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=U(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=U(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=U(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=U(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){F(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){B(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxIndex(){let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minIndex(){let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){F(this,t);let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){F(this,t);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){F(this,t);let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){F(this,t);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){B(this,t);let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){B(this,t);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){B(this,t);let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){B(this,t);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: "+t)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){Y.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=X.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new X(e,r),s=new Float64Array(n);for(let o=0;o<r;o++){for(let e=0;e<n;e++)s[e]=t.get(e,o);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*s[r];i.set(t,o,e)}}return i}strassen2x2(t){t=X.checkMatrix(t);let e=new X(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),s=t.get(0,1),o=this.get(1,0),a=t.get(1,0),l=this.get(1,1),u=t.get(1,1),c=(n+l)*(r+u),h=(o+l)*r,f=n*(s-u),p=l*(a-r),d=(n+i)*u,m=c+p-d+(i-l)*(a+u),g=f+d,_=h+p,v=c-h+f+(o-n)*(r+s);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,_),e.set(1,1,v),e}strassen3x3(t){t=X.checkMatrix(t);let e=new X(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),s=this.get(1,0),o=this.get(1,1),a=this.get(1,2),l=this.get(2,0),u=this.get(2,1),c=this.get(2,2),h=t.get(0,0),f=t.get(0,1),p=t.get(0,2),d=t.get(1,0),m=t.get(1,1),g=t.get(1,2),_=t.get(2,0),v=t.get(2,1),y=t.get(2,2),E=(n-s)*(-f+m),C=(-n+s+o)*(h-f+m),w=(s+o)*(-h+f),b=n*h,x=(-n+l+u)*(h-p+g),M=(-n+l)*(p-g),S=(l+u)*(-h+p),L=(-i+u+c)*(m+_-v),A=(i-c)*(m-v),I=i*_,T=(u+c)*(-_+v),R=(-i+o+a)*(g+_-y),N=(i-a)*(g-y),k=(o+a)*(-_+y),D=b+I+r*d,P=(n+r+i-s-o-u-c)*m+C+w+b+L+I+T,O=b+x+S+(n+r+i-o-a-l-u)*g+I+R+k,F=E+o*(-h+f+d-m-g-_+y)+C+b+I+R+N,B=E+C+w+b+a*v,H=I+R+N+k+s*p,U=b+x+M+u*(-h+p+d-m-g-_+v)+L+A+I,q=L+A+I+T+l*f,z=b+x+M+S+c*y;return e.set(0,0,D),e.set(0,1,P),e.set(0,2,O),e.set(1,0,F),e.set(1,1,B),e.set(1,2,H),e.set(2,0,U),e.set(2,1,q),e.set(2,2,z),e}mmulStrassen(t){t=X.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,s=t.columns;function o(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=Y.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${s} matrix: dimensions do not match.`);let a=Math.max(n,i),l=Math.max(r,s);return e=o(e,a,l),function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=o(e,r+1,i+1),n=o(n,r+1,i+1)):r%2==1?(e=o(e,r+1,i),n=o(n,r+1,i)):i%2==1&&(e=o(e,r,i+1),n=o(n,r,i+1));let s=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),l=e.subMatrix(0,s-1,0,a-1),u=n.subMatrix(0,s-1,0,a-1),c=e.subMatrix(0,s-1,a,e.columns-1),h=n.subMatrix(0,s-1,a,n.columns-1),f=e.subMatrix(s,e.rows-1,0,a-1),p=n.subMatrix(s,n.rows-1,0,a-1),d=e.subMatrix(s,e.rows-1,a,e.columns-1),m=n.subMatrix(s,n.rows-1,a,n.columns-1),g=t(Y.add(l,d),Y.add(u,m),s,a),_=t(Y.add(f,d),u,s,a),v=t(l,Y.sub(h,m),s,a),y=t(d,Y.sub(p,u),s,a),E=t(Y.add(l,c),m,s,a),C=t(Y.sub(f,l),Y.add(u,h),s,a),w=t(Y.sub(c,d),Y.add(p,m),s,a),b=Y.add(g,y);b.sub(E),b.add(w);let x=Y.add(v,E),M=Y.add(_,y),S=Y.sub(g,_);S.add(v),S.add(C);let L=Y.zeros(2*b.rows,2*b.columns);return L=L.setSubMatrix(b,0,0),L=L.setSubMatrix(x,b.rows,0),L=L.setSubMatrix(M,0,b.columns),L=L.setSubMatrix(S,b.rows,b.columns),L.subMatrix(0,r-1,0,i-1)}(e,t=o(t,a,l),a,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new X(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);N(i,{min:e,max:n,output:i}),r.setRow(t,i)}return r}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new X(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);N(i,{min:e,max:n,output:i}),r.setColumn(t,i)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=X.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,s=new X(e*r,n*i);for(let o=0;o<e;o++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let a=0;a<i;a++)s.set(r*o+n,i*e+a,this.get(o,e)*t.get(n,a));return s}transpose(){let t=new X(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=W){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=W){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){j(this,t,e,n,r);let i=new X(e-t+1,r-n+1);for(let s=t;s<=e;s++)for(let e=n;e<=r;e++)i.set(s-t,e-n,this.get(s,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new X(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let s=e;s<=n;s++){if(t[i]<0||t[i]>=this.rows)throw new RangeError("Row index out of range: "+t[i]);r.set(i,s-e,this.get(t[i],s))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new X(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let s=e;s<=n;s++){if(t[i]<0||t[i]>=this.columns)throw new RangeError("Column index out of range: "+t[i]);r.set(s-e,i,this.get(s,t[i]))}return r}setSubMatrix(t,e,n){j(this,e,e+(t=X.checkMatrix(t)).rows-1,n,n+t.columns-1);for(let r=0;r<t.rows;r++)for(let i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}selection(t,e){let n=function(t,e,n){return{row:q(t,e),column:z(t,n)}}(this,t,e),r=new X(t.length,e.length);for(let t=0;t<n.row.length;t++){let e=n.row[t];for(let i=0;i<n.column.length;i++){let s=n.column[i];r.set(t,i,this.get(e,s))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new X(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return function(t){let e=V(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){let e=V(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error("invalid option: "+t)}}product(t){switch(t){case"row":return function(t){let e=V(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){let e=V(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error("invalid option: "+t)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: "+t)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(t)}=e;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,s=[];for(let o=0;o<r;o++){let r=0,a=0,l=0;for(let e=0;e<i;e++)l=t.get(o,e)-n[o],r+=l,a+=l*l;e?s.push((a-r*r/i)/(i-1)):s.push((a-r*r/i)/i)}return s}(this,n,r);case"column":if(!Array.isArray(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,s=[];for(let o=0;o<i;o++){let i=0,a=0,l=0;for(let e=0;e<r;e++)l=t.get(e,o)-n[o],i+=l,a+=l*l;e?s.push((a-i*i/r)/(r-1)):s.push((a-i*i/r)/r)}return s}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(t,e,n){const r=t.rows,i=t.columns,s=r*i;let o=0,a=0,l=0;for(let e=0;e<r;e++)for(let r=0;r<i;r++)l=t.get(e,r)-n,o+=l,a+=l*l;return e?(a-o*o/s)/(s-1):(a-o*o/s)/s}(this,n,r);default:throw new Error("invalid option: "+t)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,n),this;case"column":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,n),this;default:throw new Error("invalid option: "+t)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error("invalid option: "+t)}}toString(t){return P(this,t)}}function W(t,e){return t-e}Y.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Y.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return P(this)}),Y.random=Y.rand,Y.randomInt=Y.randInt,Y.diagonal=Y.diag,Y.prototype.diagonal=Y.prototype.diag,Y.identity=Y.eye,Y.prototype.negate=Y.prototype.neg,Y.prototype.tensorProduct=Y.prototype.kroneckerProduct;class X extends Y{constructor(t,e){if(super(),X.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if(t=n.length,"number"!=typeof(e=n[0].length)||0===e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(n[r]))}}}this.rows=t,this.columns=e}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){if(F(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),F(this,t,!0),e=Float64Array.from(H(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(B(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),B(this,t,!0),e=U(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}var K,J;function $(t,e){let n=new Array(e).fill(0);for(let e=0;e<t.length;++e)n[t[e]]+=1/t.length;return X.rowVector(n)}function Z(t){if(0===t.length)return 0;let e=$(t,Q(t)).getRow(0),n=0;for(let t=0;t<e.length;++t)n+=e[t]*e[t];return 1-n}function Q(t){return t.filter((function(t,e,n){return n.indexOf(t)===e})).map(t=>t+1).reduce((t,e)=>Math.max(t,e))}function tt(t){let e=t.length;if(0===e)return 0;let n=S(t),r=0;for(let i=0;i<e;++i){let e=t[i];r+=(e-n)*(e-n)}return r}J=X,(K=Y).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},K.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},K.prototype.addM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},K.add=function(t,e){return new J(t).add(e)},K.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},K.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},K.prototype.subM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},K.sub=function(t,e){return new J(t).sub(e)},K.prototype.subtract=K.prototype.sub,K.prototype.subtractS=K.prototype.subS,K.prototype.subtractM=K.prototype.subM,K.subtract=K.sub,K.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},K.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},K.prototype.mulM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},K.mul=function(t,e){return new J(t).mul(e)},K.prototype.multiply=K.prototype.mul,K.prototype.multiplyS=K.prototype.mulS,K.prototype.multiplyM=K.prototype.mulM,K.multiply=K.mul,K.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},K.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},K.prototype.divM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},K.div=function(t,e){return new J(t).div(e)},K.prototype.divide=K.prototype.div,K.prototype.divideS=K.prototype.divS,K.prototype.divideM=K.prototype.divM,K.divide=K.div,K.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},K.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},K.prototype.modM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},K.mod=function(t,e){return new J(t).mod(e)},K.prototype.modulus=K.prototype.mod,K.prototype.modulusS=K.prototype.modS,K.prototype.modulusM=K.prototype.modM,K.modulus=K.mod,K.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},K.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},K.prototype.andM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},K.and=function(t,e){return new J(t).and(e)},K.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},K.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},K.prototype.orM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},K.or=function(t,e){return new J(t).or(e)},K.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},K.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},K.prototype.xorM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},K.xor=function(t,e){return new J(t).xor(e)},K.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},K.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},K.prototype.leftShiftM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},K.leftShift=function(t,e){return new J(t).leftShift(e)},K.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},K.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},K.prototype.signPropagatingRightShiftM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},K.signPropagatingRightShift=function(t,e){return new J(t).signPropagatingRightShift(e)},K.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},K.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},K.prototype.rightShiftM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},K.rightShift=function(t,e){return new J(t).rightShift(e)},K.prototype.zeroFillRightShift=K.prototype.rightShift,K.prototype.zeroFillRightShiftS=K.prototype.rightShiftS,K.prototype.zeroFillRightShiftM=K.prototype.rightShiftM,K.zeroFillRightShift=K.rightShift,K.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},K.not=function(t){return new J(t).not()},K.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},K.abs=function(t){return new J(t).abs()},K.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},K.acos=function(t){return new J(t).acos()},K.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},K.acosh=function(t){return new J(t).acosh()},K.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},K.asin=function(t){return new J(t).asin()},K.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},K.asinh=function(t){return new J(t).asinh()},K.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},K.atan=function(t){return new J(t).atan()},K.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},K.atanh=function(t){return new J(t).atanh()},K.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},K.cbrt=function(t){return new J(t).cbrt()},K.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},K.ceil=function(t){return new J(t).ceil()},K.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},K.clz32=function(t){return new J(t).clz32()},K.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},K.cos=function(t){return new J(t).cos()},K.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},K.cosh=function(t){return new J(t).cosh()},K.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},K.exp=function(t){return new J(t).exp()},K.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},K.expm1=function(t){return new J(t).expm1()},K.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},K.floor=function(t){return new J(t).floor()},K.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},K.fround=function(t){return new J(t).fround()},K.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},K.log=function(t){return new J(t).log()},K.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},K.log1p=function(t){return new J(t).log1p()},K.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},K.log10=function(t){return new J(t).log10()},K.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},K.log2=function(t){return new J(t).log2()},K.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},K.round=function(t){return new J(t).round()},K.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},K.sign=function(t){return new J(t).sign()},K.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},K.sin=function(t){return new J(t).sin()},K.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},K.sinh=function(t){return new J(t).sinh()},K.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},K.sqrt=function(t){return new J(t).sqrt()},K.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},K.tan=function(t){return new J(t).tan()},K.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},K.tanh=function(t){return new J(t).tanh()},K.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},K.trunc=function(t){return new J(t).trunc()},K.pow=function(t,e){return new J(t).pow(e)},K.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},K.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},K.prototype.powM=function(t){if(t=J.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};const et={gini:function(t,e){let n=0,r=["greater","lesser"];for(let i=0;i<r.length;++i){let s=e[r[i]];n+=Z(s)*s.length/t.length}return Z(t)-n},regression:function(t,e){let n=0,r=["greater","lesser"];for(let t=0;t<r.length;++t){n+=tt(e[r[t]])}return n}},nt={mean:function(t,e){return(t+e)/2}};class rt{constructor(t){this.kind=t.kind,this.gainFunction=t.gainFunction,this.splitFunction=t.splitFunction,this.minNumSamples=t.minNumSamples,this.maxDepth=t.maxDepth}bestSplit(t,e){let n,r,i="classifier"===this.kind?-1/0:1/0,s="classifier"===this.kind?(t,e)=>t>e:(t,e)=>t<e;for(let o=0;o<t.rows;++o){let a=t.getRow(o),l=this.featureSplit(a,e);for(let t=0;t<l.length;++t){let u=l[t],c=this.split(a,e,u),h=et[this.gainFunction](e,c);s(h,i)&&(n=o,r=u,i=h)}}return{maxGain:i,maxColumn:n,maxValue:r}}split(t,e,n){let r=[],i=[];for(let s=0;s<t.length;++s)t[s]<n?r.push(e[s]):i.push(e[s]);return{greater:i,lesser:r}}featureSplit(t,e){let n=[],r=function(t,e){if(t.length!==e.length)throw new TypeError(`Error on zip: the size of a: ${t.length} is different from b: ${e.length}`);let n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=[t[r],e[r]];return n}(t,e);r.sort((function(t,e){return t[0]-e[0]}));for(let t=1;t<r.length;++t)r[t-1][1]!==r[t][1]&&n.push(nt[this.splitFunction](r[t-1][0],r[t][0]));return n}calculatePrediction(t){if("classifier"===this.kind){if(this.distribution=$(t,Q(t)),0===this.distribution.columns)throw new TypeError("Error on calculate the prediction")}else this.distribution=S(t)}train(t,e,n,r){if(t.rows<=this.minNumSamples)return void this.calculatePrediction(e);void 0===r&&(r=0);let i=t.transpose(),s=this.bestSplit(i,e);this.splitValue=s.maxValue,this.splitColumn=s.maxColumn,this.gain=s.maxGain;let o=function(t,e,n,r){let i=[],s=[],o=[],a=[];for(let l=0;l<t.rows;++l)t.get(l,n)<r?(i.push(t.getRow(l)),o.push(e[l])):(s.push(t.getRow(l)),a.push(e[l]));return{greaterX:s,greaterY:a,lesserX:i,lesserY:o}}(t,e,this.splitColumn,this.splitValue);if(n<this.maxDepth&&this.gain>.01&&this.gain!==r&&o.lesserX.length>0&&o.greaterX.length>0){this.left=new rt(this),this.right=new rt(this);let t=new X(o.lesserX),e=new X(o.greaterX);this.left.train(t,o.lesserY,n+1,this.gain),this.right.train(e,o.greaterY,n+1,this.gain)}else this.calculatePrediction(e)}classify(t){return this.right&&this.left?t[this.splitColumn]<this.splitValue?this.left.classify(t):this.right.classify(t):this.distribution}setNodeParameters(t){void 0!==t.distribution?this.distribution=t.distribution.constructor===Array?new X(t.distribution):t.distribution:(this.distribution=void 0,this.splitValue=t.splitValue,this.splitColumn=t.splitColumn,this.gain=t.gain,this.left=new rt(this),this.right=new rt(this),t.left!=={}&&this.left.setNodeParameters(t.left),t.right!=={}&&this.right.setNodeParameters(t.right))}}const it={gainFunction:"gini",splitFunction:"mean",minNumSamples:3,maxDepth:1/0};class st{constructor(t,e){!0===t?(this.options=e.options,this.root=new rt(e.options),this.root.setNodeParameters(e.root)):(this.options=Object.assign({},it,t),this.options.kind="classifier")}train(t,e){this.root=new rt(this.options),t=X.checkMatrix(t),this.root.train(t,e,0,null)}predict(t){t=X.checkMatrix(t);let e=new Array(t.rows);for(let n=0;n<t.rows;++n)e[n]=this.root.classify(t.getRow(n)).maxRowIndex(0)[1];return e}toJSON(){return{options:this.options,root:this.root,name:"DTClassifier"}}static load(t){if("DTClassifier"!==t.name)throw new RangeError("Invalid model: "+t.name);return new st(!0,t)}}const ot={gainFunction:"regression",splitFunction:"mean",minNumSamples:3,maxDepth:1/0};class at{constructor(t,e){!0===t?(this.options=e.options,this.root=new rt(e.options),this.root.setNodeParameters(e.root)):(this.options=Object.assign({},ot,t),this.options.kind="regression")}train(t,e){this.root=new rt(this.options),t=void 0!==t[0]&&void 0===t[0].length?X.columnVector(t):X.checkMatrix(t),this.root.train(t,e,0)}predict(t){void 0!==t[0]&&void 0===t[0].length&&(t=X.columnVector(t)),t=X.checkMatrix(t);let e=new Array(t.rows);for(let n=0;n<t.rows;++n)e[n]=this.root.classify(t.getRow(n));return e}toJSON(){return{options:this.options,root:this.root,name:"DTRegression"}}static load(t){if("DTRegression"!==t.name)throw new RangeError("Invalid model:"+t.name);return new at(!0,t)}}class lt extends Y{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class ut extends lt{constructor(t,e){e=z(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class ct extends lt{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class ht extends Y{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function ft(t){return t>0&&t<=1}function pt(t,e){return Math.round(Math.random()*(e-t)+t)}function dt(t,e,n){let r=new Array(n),i=new Array(n);for(let s=0;s<n;++s){let o=pt(0,n-1);r[s]=t.getRow(o),i[s]=e[o]}return{X:new X(r),y:i}}function mt(t,e,n){if(t.columns<e)throw new RangeError("N should be less or equal to the number of columns of X");let r,i,s=new X(t.rows,e);if(n){r=new Array(e);for(let n=0;n<e;++n)i=pt(0,t.columns-1),r[n]=i,s.setColumn(n,t.getColumn(i))}else{r=new Set,i=pt(0,t.columns-1);for(let n=0;n<e;++n){for(;r.has(i);)i=pt(0,t.columns-1);s.setColumn(n,t.getColumn(i)),r.add(i)}r=Array.from(r)}return{X:s,usedIndex:r}}const gt={mean:S,median:I,mode:function(t){return t.sort((e,n)=>t.filter(t=>t===e).length-t.filter(t=>t===n).length).pop()}},_t={replacement:!0,maxSamples:.8,maxFeatures:1,nEstimators:10,selectionMethod:"mode",seed:42,useSampleBagging:!1};class vt extends class{constructor(t,e){if(!0===t){this.replacement=e.replacement,this.maxSamples=e.maxSamples,this.maxFeatures=e.maxFeatures,this.nEstimators=e.nEstimators,this.treeOptions=e.treeOptions,this.isClassifier=e.isClassifier,this.seed=e.seed,this.nSamples=e.nSamples,this.nFeatures=e.nFeatures,this.indexes=e.indexes,this.useSampleBagging=e.useSampleBagging;let t=this.isClassifier?st:at;this.estimators=e.estimators.map(e=>t.load(e))}else this.replacement=t.replacement,this.maxSamples=t.maxSamples,this.maxFeatures=t.maxFeatures,this.nEstimators=t.nEstimators,this.treeOptions=t.treeOptions,this.isClassifier=t.isClassifier,this.seed=t.seed,this.useSampleBagging=t.useSampleBagging}train(t,e){if(t=X.checkMatrix(t),this.maxFeatures=this.maxFeatures||t.columns,ft(this.maxFeatures))this.nFeatures=Math.floor(t.columns*this.maxFeatures);else{if(!Number.isInteger(this.maxFeatures))throw new RangeError("Cannot process the maxFeatures parameter "+this.maxFeatures);if(this.maxFeatures>t.columns)throw new RangeError("The maxFeatures parameter should be less than "+t.columns);this.nFeatures=this.maxFeatures}if(ft(this.maxSamples))this.nSamples=Math.floor(t.rows*this.maxSamples);else{if(!Number.isInteger(this.maxSamples))throw new RangeError("Cannot process the maxSamples parameter "+this.maxSamples);if(this.maxSamples>t.rows)throw new RangeError("The maxSamples parameter should be less than "+t.rows);this.nSamples=this.maxSamples}let n;n=this.isClassifier?st:at,this.estimators=new Array(this.nEstimators),this.indexes=new Array(this.nEstimators);for(let r=0;r<this.nEstimators;++r){let i=this.useSampleBagging?dt(t,e,this.nSamples):{X:t,y:e},s=i.X,o=i.y;i=mt(s,this.nFeatures,this.replacement,this.seed),s=i.X,this.indexes[r]=i.usedIndex,this.estimators[r]=new n(this.treeOptions),this.estimators[r].train(s,o)}}selection(t){throw new Error("Abstract method 'selection' not implemented!")}predict(t){let e=new Array(this.nEstimators);t=X.checkMatrix(t);for(let n=0;n<this.nEstimators;++n){let r=new ut(t,this.indexes[n]);e[n]=this.estimators[n].predict(r)}e=new ct(new ht(e));let n=new Array(e.rows);for(let t=0;t<e.rows;++t)n[t]=this.selection(e.getRow(t));return{predictions:n,predictionValues:e.to2DArray()}}toJSON(){return{indexes:this.indexes,nSamples:this.nSamples,nFeatures:this.nFeatures,replacement:this.replacement,maxSamples:this.maxSamples,maxFeatures:this.maxFeatures,nEstimators:this.nEstimators,treeOptions:this.treeOptions,isClassifier:this.isClassifier,seed:this.seed,estimators:this.estimators.map(t=>t.toJSON()),useSampleBagging:this.useSampleBagging}}}{constructor(t,e){if(!0===t)super(!0,e.baseModel),this.selectionMethod=e.selectionMethod;else{if("mean"!==(t=Object.assign({},_t,t)).selectionMethod&&"median"!==t.selectionMethod&&"mode"!==t.selectionMethod)throw new RangeError("Unsupported selection method "+t.selectionMethod);t.isClassifier=!0,super(t),this.selectionMethod=t.selectionMethod}}selection(t){return gt[this.selectionMethod](t)}toJSON(){return{baseModel:super.toJSON(),selectionMethod:this.selectionMethod,name:"RFClassifier"}}static load(t){if("RFClassifier"!==t.name)throw new RangeError("Invalid model: "+t.name);return new vt(!0,t)}}n(15),n(16),n(17);for(var yt,Et,Ct=function(){return new Worker(n.p+"train.worker.bundle.worker.js")},wt=w.deserializeState(),bt=[-6,6],xt=new i(300,50,bt,bt,r.select("#main-heatmap"),{showAxes:!0}),Mt=[],St=0;St<20;St++){var Lt=r.select(".estimator-heatmaps-container").append("div").attr("id","estimator-heatmap-"+St).classed("mdl-cell mdl-cell--3-col",!0);Mt.push(new i(40,50,bt,bt,Lt,{showAxes:!1,noSvg:!0,pointer:!0}))}var At,It,Tt,Rt,Nt,kt=r.scale.linear().domain([-1,0,1]).range(["#f59322","#e8eaeb","#0877bd"]).clamp(!0),Dt=[],Pt=[],Ot=[];function Ft(t){for(var e=0,n=0;n<t.length;n++){var i=t[n],s=i.x,o=i.y,a=Tt.predict([[s,o]]).predictions[0];a=r.scale.linear().domain([0,1]).range([-1,1])(a),e+=.5*Math.pow(a-i.label,2)}return e/t.length}function Bt(t){function e(t){return t.toFixed(3)}void 0===t&&(t=!1),t||function(){var t,e,n,i=r.scale.linear().domain([0,49]).range(bt),s=r.scale.linear().domain([49,0]).range(bt);for(n=0;n<20;n++)for(Et[n]=new Array(50),t=0;t<50;t++)Et[n][t]=new Array(50);for(t=0;t<50;t++)for(yt[t]=new Array(50),e=0;e<50;e++){var o=i(t),a=s(e),l=Tt.predict([[o,a]]),u=l.predictions,c=l.predictionValues;for(yt[t][e]=u[0],n=0;n<20;n++)Et[n][t][e]=c[0][n]}}(),xt.updateBackground(yt,wt.discretize),Mt.forEach((function(t,e){t.updateBackground(Et[e],wt.discretize)})),r.select("#loss-train").text(e(Rt)),r.select("#loss-test").text(e(Nt))}function Ht(t){void 0===t&&(t=!1),t||At.terminate(),At=new Ct,It={nEstimators:wt.nTrees,maxSamples:wt.percSamples/100,maxFeatures:wt.maxFeatures/2,treeOptions:{maxDepth:wt.maxDepth},useSampleBagging:!0,replacement:!1,selectionMethod:"mean"},Tt=new vt(It),Nt=0,Rt=0,yt=[],Et=new Array(20).fill([]),Dt.forEach((function(t){delete t.voteCounts})),jt(),zt(),wt.serialize(),Bt(!0)}function Ut(){function t(t,e){t.setAttribute("width",100),t.setAttribute("height",100);var n=t.getContext("2d");e(200,0).forEach((function(t){n.fillStyle=kt(t.label),n.fillRect(100*(t.x+6)/12,100*(t.y+6)/12,4,4)})),r.select(t.parentNode).style("display",null)}if(r.selectAll(".dataset").style("display","none"),wt.problem===p.CLASSIFICATION)for(var e in g){t(document.querySelector("canvas[data-dataset="+e+"]"),g[e])}if(wt.problem===p.REGRESSION)for(var n in _){t(document.querySelector("canvas[data-regDataset="+n+"]"),_[n])}}function qt(t){void 0===t&&(t=!1),t||(wt.seed=Math.random().toFixed(5),wt.serialize()),Math.seedrandom(wt.seed);var e=wt.problem===p.REGRESSION?1200:400,n=wt.problem===p.CLASSIFICATION?wt.dataset:wt.regDataset;(function(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.floor(Math.random()*e),n=t[--e],t[e]=t[r],t[r]=n})(Dt=n(e,wt.noise/100)),jt(),zt()}function zt(){xt.updatePoints(Pt),xt.updateTestPoints(wt.showTestData?Ot:[])}function jt(){var t=Math.floor(Dt.length*wt.percTrainData/100);Pt=Dt.slice(0,t),Ot=Dt.slice(t)}function Vt(t){r.selectAll("*").style("cursor",t?"progress":null),r.select("#main-heatmap canvas").style("opacity",t?.2:1),r.select("#main-heatmap svg").style("opacity",t?.2:1),r.selectAll(".estimator-heatmaps-container canvas").style("opacity",t?.2:1)}Ut(),function(){r.select("#train-button").on("click",(function(){Vt(!0),At.terminate(),At=new Ct;var t=Pt.map((function(t){return[t.x,t.y]})),e=Pt.map((function(t){return-1===t.label?0:t.label}));At.postMessage({options:It,trainingSet:t,labels:e}),At.onmessage=function(t){var e=(Tt=vt.load(t.data)).predict(Dt.map((function(t){return[t.x,t.y]}))).predictionValues.map((function(t){return[(t=t.map((function(t){return 0===t?-1:1}))).filter((function(t){return-1===t})).length,t.filter((function(t){return 1===t})).length]}));Dt.forEach((function(t,n){t.voteCounts=e[n]})),jt(),zt(),Rt=Ft(Pt),Nt=Ft(Ot),Bt(),Vt(!1)}})),r.select("#data-regen-button").on("click",(function(){qt(),Ht()}));var t=r.selectAll("canvas[data-dataset]");t.on("click",(function(){var e=g[this.dataset.dataset];e!==wt.dataset&&(wt.dataset=e,t.classed("selected",!1),r.select(this).classed("selected",!0),qt(),Ht())}));var e=v(g,wt.dataset);r.select("canvas[data-dataset="+e+"]").classed("selected",!0);var n=r.selectAll("canvas[data-regDataset]");n.on("click",(function(){var t=_[this.dataset.regdataset];t!==wt.regDataset&&(wt.regDataset=t,n.classed("selected",!1),r.select(this).classed("selected",!0),qt(),Ht())}));var i=v(_,wt.regDataset);r.select("canvas[data-regDataset="+i+"]").classed("selected",!0),Mt.forEach((function(t,e){r.select("#estimator-heatmap-"+e+" canvas").style("border","2px solid black").on("mouseenter",(function(){xt.updateBackground(Et[e],wt.discretize)})).on("mouseleave",(function(){xt.updateBackground(yt,wt.discretize)}))})),r.select("#nTrees").on("input",(function(){wt.nTrees=+this.value,r.select("label[for='nTrees'] .value").text(this.value),Ht()})).property("value",wt.nTrees),r.select("label[for='nTrees'] .value").text(wt.nTrees),r.select("#maxDepth").on("input",(function(){wt.maxDepth=+this.value,r.select("label[for='maxDepth'] .value").text(this.value),Ht()})).property("value",wt.maxDepth),r.select("label[for='maxDepth'] .value").text(wt.maxDepth),r.select("#percSamples").on("input",(function(){wt.percSamples=+this.value,r.select("label[for='percSamples'] .value").text(this.value),Ht()})).property("value",wt.percSamples),r.select("label[for='percSamples'] .value").text(wt.percSamples),r.select("#maxFeatures").on("change",(function(){wt.maxFeatures=+this.value,wt.serialize(),Ht()})).property("value",wt.maxFeatures),r.select("#problem").on("change",(function(){wt.problem=C[this.value],qt(),Ut(),Ht()})).property("value",v(C,wt.problem)),r.select("#show-test-data").on("change",(function(){wt.showTestData=this.checked,wt.serialize(),xt.updateTestPoints(wt.showTestData?Ot:[])})).property("checked",wt.showTestData),r.select("#discretize").on("change",(function(){wt.discretize=this.checked,wt.serialize(),xt.updateBackground(yt,wt.discretize)})).property("checked",wt.discretize),r.select("#percTrainData").on("input",(function(){wt.percTrainData=this.value,r.select("label[for='percTrainData'] .value").text(this.value),qt(),Ht()})).property("value",wt.percTrainData),r.select("label[for='percTrainData'] .value").text(wt.percTrainData);var s=r.select("#noise").on("input",(function(){wt.noise=this.value,r.select("label[for='noise'] .value").text(this.value),qt(),Ht()})),o=parseInt(s.property("max"));wt.noise>o?wt.noise<=80?s.property("max",wt.noise):wt.noise=50:wt.noise<0&&(wt.noise=0),s.property("value",wt.noise),r.select("label[for='noise'] .value").text(wt.noise);var a=r.scale.linear().domain([-1,1]).range([0,144]),l=r.svg.axis().scale(a).orient("bottom").tickValues([-1,0,1]).tickFormat(r.format("d"));r.select("#colormap g.core").append("g").attr("class","x axis").attr("transform","translate(0,10)").call(l)}(),qt(!0),Ht(!0)}]);